
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Design Deck">
      
      
      
        <link rel="canonical" href="https://deckly.dev/designdeck/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../anki/">
      
      
      <link rel="icon" href="../img/icon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>System Design Interview - Deckly</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-2333ZGCZ67"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-2333ZGCZ67",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2333ZGCZ67",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#design-deck" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Deckly" class="md-header__button md-logo" aria-label="Deckly" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Deckly
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              System Design Interview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/teivah/algodeck" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    teivah/algodeck
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  Algo Deck

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  Design Deck

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../anki/" class="md-tabs__link">
          
  
  ðŸ’¡ Anki Versions (Spaced Repetition)

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Deckly" class="md-nav__button md-logo" aria-label="Deckly" data-md-component="logo">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    Deckly
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/teivah/algodeck" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    teivah/algodeck
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Algo Deck
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Algo Deck
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algorithms and Data Structures Interview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Design Deck
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Design Deck
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    System Design Interview
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    System Design Interview
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cache" class="md-nav__link">
    <span class="md-ellipsis">
      Cache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-aside" class="md-nav__link">
    <span class="md-ellipsis">
      Cache aside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-aside-vs-read-through" class="md-nav__link">
    <span class="md-ellipsis">
      Cache aside vs. read-through
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-eviction-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Cache eviction policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-locations" class="md-nav__link">
    <span class="md-ellipsis">
      Cache locations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-refresh-ahead" class="md-nav__link">
    <span class="md-ellipsis">
      Cache: refresh-ahead
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-write-through-vs-write-back" class="md-nav__link">
    <span class="md-ellipsis">
      Cache: write through vs. write back
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#four-main-distributed-cache-benefits" class="md-nav__link">
    <span class="md-ellipsis">
      Four main distributed cache benefits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-metric-for-cache" class="md-nav__link">
    <span class="md-ellipsis">
      Main metric for cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-through-cache" class="md-nav__link">
    <span class="md-ellipsis">
      Read-through cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-a-cache" class="md-nav__link">
    <span class="md-ellipsis">
      When to use a cache
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    <span class="md-ellipsis">
      CDN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#db" class="md-nav__link">
    <span class="md-ellipsis">
      DB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-main-reasons-to-partition-data" class="md-nav__link">
    <span class="md-ellipsis">
      3 main reasons to partition data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acid-property" class="md-nav__link">
    <span class="md-ellipsis">
      ACID property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anti-entropy" class="md-nav__link">
    <span class="md-ellipsis">
      Anti-entropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#byzantine-fault-tolerant" class="md-nav__link">
    <span class="md-ellipsis">
      Byzantine fault-tolerant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calm-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      CALM theorem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cap-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      CAP theorem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caveat-of-serializability" class="md-nav__link">
    <span class="md-ellipsis">
      Caveat of serializability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chain-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Chain replication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chain-replication-vs-consensus" class="md-nav__link">
    <span class="md-ellipsis">
      Chain replication vs. consensus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-data-capture-cdc" class="md-nav__link">
    <span class="md-ellipsis">
      Change data capture (CDC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrency-control" class="md-nav__link">
    <span class="md-ellipsis">
      Concurrency control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consensus" class="md-nav__link">
    <span class="md-ellipsis">
      Consensus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-models" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cqrs" class="md-nav__link">
    <span class="md-ellipsis">
      CQRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crdt" class="md-nav__link">
    <span class="md-ellipsis">
      CRDT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crdt-and-collaborative-applications-eg-google-docs" class="md-nav__link">
    <span class="md-ellipsis">
      CRDT and collaborative applications (e.g., Google Docs)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db-indexes-tradeoff" class="md-nav__link">
    <span class="md-ellipsis">
      DB indexes tradeoff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db-internal-components" class="md-nav__link">
    <span class="md-ellipsis">
      DB internal components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db-read-vs-write-heavy-latency-vs-consistency-availability-vs-consistency-acid-vs-non-acid" class="md-nav__link">
    <span class="md-ellipsis">
      DB: read vs. write-heavy, latency vs. consistency, availability vs. consistency, ACID vs. non-ACID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delta-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Delta CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#denormalization" class="md-nav__link">
    <span class="md-ellipsis">
      Denormalization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-consideration-when-partitioning-data" class="md-nav__link">
    <span class="md-ellipsis">
      Design consideration when partitioning data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downside-of-distributed-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Downside of distributed transactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-sourcing" class="md-nav__link">
    <span class="md-ellipsis">
      Event sourcing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eventual-consistency-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Eventual consistency requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-solutions-offering-leader-election-abstractions" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of solutions offering leader election abstractions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#federation" class="md-nav__link">
    <span class="md-ellipsis">
      Federation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fencing-token" class="md-nav__link">
    <span class="md-ellipsis">
      Fencing token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gossip-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      Gossip protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-db-main-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      Graph DB main use case
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hinted-handoff" class="md-nav__link">
    <span class="md-ellipsis">
      Hinted handoff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hot-spot-in-partitioning" class="md-nav__link">
    <span class="md-ellipsis">
      Hot spot in partitioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-a-database-strategy-to-handle-rebalancing" class="md-nav__link">
    <span class="md-ellipsis">
      In a database, strategy to handle rebalancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isolation-levels" class="md-nav__link">
    <span class="md-ellipsis">
      Isolation levels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#known-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Known CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last-write-wins-lww" class="md-nav__link">
    <span class="md-ellipsis">
      Last-write-wins (LWW)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leader-election" class="md-nav__link">
    <span class="md-ellipsis">
      Leader election
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lsm-tree" class="md-nav__link">
    <span class="md-ellipsis">
      LSM tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lsm-tree-vs-b-tree" class="md-nav__link">
    <span class="md-ellipsis">
      LSM tree vs. B-tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-difference-between-consistency-models-and-isolation-levels" class="md-nav__link">
    <span class="md-ellipsis">
      Main difference between consistency models and isolation levels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merkle-tree" class="md-nav__link">
    <span class="md-ellipsis">
      Merkle tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monotonic-reads-consistency-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Monotonic reads consistency implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mvcc" class="md-nav__link">
    <span class="md-ellipsis">
      MVCC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#n1-select-problem" class="md-nav__link">
    <span class="md-ellipsis">
      N+1 select problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nosql-main-types-and-main-architecture-principles" class="md-nav__link">
    <span class="md-ellipsis">
      NoSQL: main types and main architecture principles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operation-based-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Operation-based CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operational-transformation-ot-concept-and-main-drawback" class="md-nav__link">
    <span class="md-ellipsis">
      Operational transformation (OT): concept and main drawback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimistic-concurrency-control-pros-and-cons" class="md-nav__link">
    <span class="md-ellipsis">
      Optimistic concurrency control: pros and cons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pacelc-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      PACELC theorem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioning-sharding" class="md-nav__link">
    <span class="md-ellipsis">
      Partitioning (sharding)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioning-criteria" class="md-nav__link">
    <span class="md-ellipsis">
      Partitioning criteria
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioning-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Partitioning methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quorum" class="md-nav__link">
    <span class="md-ellipsis">
      Quorum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raft" class="md-nav__link">
    <span class="md-ellipsis">
      Raft
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Raft">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leader-election_1" class="md-nav__link">
    <span class="md-ellipsis">
      Leader election
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replication" class="md-nav__link">
    <span class="md-ellipsis">
      Replication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-repair" class="md-nav__link">
    <span class="md-ellipsis">
      Read repair
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relation-between-replication-factor-write-consistency-and-read-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      Relation between replication factor, write consistency and read consistency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replication-vs-partition-impacts" class="md-nav__link">
    <span class="md-ellipsis">
      Replication vs. partition: impacts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-on-read-vs-schema-on-write" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-on-read vs. schema-on-write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serializability" class="md-nav__link">
    <span class="md-ellipsis">
      Serializability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serializable-snapshot-isolation-ssi" class="md-nav__link">
    <span class="md-ellipsis">
      Serializable Snapshot Isolation (SSI)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-leader-multi-leader-leaderless-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Single-leader, multi-leader, leaderless replication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single-leader, multi-leader, leaderless replication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-leader" class="md-nav__link">
    <span class="md-ellipsis">
      Single-leader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-leader" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-leader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leaderless-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Leaderless replication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sloppy-quorum" class="md-nav__link">
    <span class="md-ellipsis">
      Sloppy quorum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshot-isolation-si" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshot Isolation (SI)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshot-isolation-common-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshot Isolation common implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sstable" class="md-nav__link">
    <span class="md-ellipsis">
      SSTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-based-crdts-definition-and-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      State-based CRDTs: definition and requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strong-eventual-consistency-definition-and-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Strong eventual consistency: definition and requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#three-phase-commit-3pc" class="md-nav__link">
    <span class="md-ellipsis">
      Three-phase commit (3PC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-main-approaches-to-partition-a-table-that-has-secondary-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Two main approaches to partition a table that has secondary indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-types-of-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Two types of CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-phase-commit-2pc" class="md-nav__link">
    <span class="md-ellipsis">
      Two-phase commit (2PC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wal" class="md-nav__link">
    <span class="md-ellipsis">
      WAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-relational-vs-when-document" class="md-nav__link">
    <span class="md-ellipsis">
      When relational vs. when document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-a-column-oriented-store" class="md-nav__link">
    <span class="md-ellipsis">
      When to use a column-oriented store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-db-schemaless-is-misleading" class="md-nav__link">
    <span class="md-ellipsis">
      Why DB schemaless is misleading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-is-in-memory-faster" class="md-nav__link">
    <span class="md-ellipsis">
      Why is in-memory faster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-and-read-amplification" class="md-nav__link">
    <span class="md-ellipsis">
      Write and read amplification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-heavy-and-replication-type" class="md-nav__link">
    <span class="md-ellipsis">
      Write heavy and replication type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design" class="md-nav__link">
    <span class="md-ellipsis">
      Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auditing" class="md-nav__link">
    <span class="md-ellipsis">
      Auditing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backward-vs-forward-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Backward vs. forward compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bloom-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Bloom filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#causality" class="md-nav__link">
    <span class="md-ellipsis">
      Causality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrent-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Concurrent operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistent-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Consistent hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-impacts-of-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Design impacts of sharing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-read-heavy-vs-write-heavy-impacts" class="md-nav__link">
    <span class="md-ellipsis">
      Design: read-heavy vs. write-heavy impacts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#different-types-of-message-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Different types of message failure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-log-vs-message-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Event log vs. message queue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exactly-once-delivery" class="md-nav__link">
    <span class="md-ellipsis">
      Exactly-once delivery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flp-impossibility" class="md-nav__link">
    <span class="md-ellipsis">
      FLP impossibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geohashing" class="md-nav__link">
    <span class="md-ellipsis">
      Geohashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashing-definition-and-size-of-md5-and-sha256" class="md-nav__link">
    <span class="md-ellipsis">
      Hashing definition and size of MD5 and SHA256
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs" class="md-nav__link">
    <span class="md-ellipsis">
      HDFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-reduce-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      How to reduce sharing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hyperloglog" class="md-nav__link">
    <span class="md-ellipsis">
      HyperLogLog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HyperLogLog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backing-idea" class="md-nav__link">
    <span class="md-ellipsis">
      Backing idea
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algo" class="md-nav__link">
    <span class="md-ellipsis">
      Algo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucketing" class="md-nav__link">
    <span class="md-ellipsis">
      Bucketing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#idempotent" class="md-nav__link">
    <span class="md-ellipsis">
      Idempotent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#latency-numbers-every-programmer-should-know" class="md-nav__link">
    <span class="md-ellipsis">
      Latency numbers every programmer should know
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lease" class="md-nav__link">
    <span class="md-ellipsis">
      Lease
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#least-loaded-endpoint-load-balancing-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Least loaded endpoint load balancing strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liveness-property" class="md-nav__link">
    <span class="md-ellipsis">
      Liveness property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-balancing" class="md-nav__link">
    <span class="md-ellipsis">
      Load balancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-shedding" class="md-nav__link">
    <span class="md-ellipsis">
      Load shedding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#locality" class="md-nav__link">
    <span class="md-ellipsis">
      Locality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log" class="md-nav__link">
    <span class="md-ellipsis">
      Log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-compaction" class="md-nav__link">
    <span class="md-ellipsis">
      Log compaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-drawback-of-shared-nothing-architectures" class="md-nav__link">
    <span class="md-ellipsis">
      Main drawback of shared-nothing architectures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapreduce" class="md-nav__link">
    <span class="md-ellipsis">
      MapReduce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microservices-pros-and-cons" class="md-nav__link">
    <span class="md-ellipsis">
      Microservices: pros and cons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-of-values-to-generate-to-reach-50-chances-of-collision-32-bit-64-bit-and-128-bit-hash" class="md-nav__link">
    <span class="md-ellipsis">
      Number of values to generate to reach 50% chances of collision: 32-bit, 64-bit, and 128-bit hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orchestration-vs-choreography" class="md-nav__link">
    <span class="md-ellipsis">
      Orchestration vs. choreography
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outbox-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Outbox pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perfect-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Perfect hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quadtree" class="md-nav__link">
    <span class="md-ellipsis">
      Quadtree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rate-limiting-throttling-definition-and-algos" class="md-nav__link">
    <span class="md-ellipsis">
      Rate-limiting (throttling): definition and algos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rate-limiting (throttling): definition and algos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#token-bucket-algo" class="md-nav__link">
    <span class="md-ellipsis">
      Token bucket algo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leaking-bucket-algo" class="md-nav__link">
    <span class="md-ellipsis">
      Leaking bucket algo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebalancing" class="md-nav__link">
    <span class="md-ellipsis">
      Rebalancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest-vs-grpc" class="md-nav__link">
    <span class="md-ellipsis">
      REST vs. gRPC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safety-property" class="md-nav__link">
    <span class="md-ellipsis">
      Safety property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saga" class="md-nav__link">
    <span class="md-ellipsis">
      Saga
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scalability-ceiling" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability ceiling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-nothing-architectures" class="md-nav__link">
    <span class="md-ellipsis">
      Shared-nothing architectures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-of-truth" class="md-nav__link">
    <span class="md-ellipsis">
      Source of truth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split-brain" class="md-nav__link">
    <span class="md-ellipsis">
      Split-brain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throughput" class="md-nav__link">
    <span class="md-ellipsis">
      Throughput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#total-vs-partial-order" class="md-nav__link">
    <span class="md-ellipsis">
      Total vs. partial order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuid" class="md-nav__link">
    <span class="md-ellipsis">
      UUID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-vs-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Validation vs. verification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector-clock" class="md-nav__link">
    <span class="md-ellipsis">
      Vector clock
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-asynchronous-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Why asynchronous communication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HTTP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#301-vs-302" class="md-nav__link">
    <span class="md-ellipsis">
      301 vs. 302
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#403-or-404" class="md-nav__link">
    <span class="md-ellipsis">
      403 or 404?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    <span class="md-ellipsis">
      Cookie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#four-main-http2-features" class="md-nav__link">
    <span class="md-ellipsis">
      Four main HTTP/2 features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hls" class="md-nav__link">
    <span class="md-ellipsis">
      HLS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http_1" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-cache-control-header" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP cache-control header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-etag" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP Etag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-keep-alive" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP keep-alive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-methods-safeness-and-idempotence" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP methods: safeness and idempotence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-safe-method" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP safe method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-status-code-429" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP status code 429
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-status-codes" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP status codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-happens-if-you-type-googlecom-in-your-browser" class="md-nav__link">
    <span class="md-ellipsis">
      What happens if you type google.com in your browser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kafka" class="md-nav__link">
    <span class="md-ellipsis">
      Kafka
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kafka">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#consumer-types" class="md-nav__link">
    <span class="md-ellipsis">
      Consumer types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#durabilityavailability-and-latencythroughput-tradeoffs" class="md-nav__link">
    <span class="md-ellipsis">
      Durability/availability and latency/throughput tradeoffs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-compaction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Log compaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#offset" class="md-nav__link">
    <span class="md-ellipsis">
      Offset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partition" class="md-nav__link">
    <span class="md-ellipsis">
      Partition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partition-distribution" class="md-nav__link">
    <span class="md-ellipsis">
      Partition distribution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebalancing_1" class="md-nav__link">
    <span class="md-ellipsis">
      Rebalancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#segment" class="md-nav__link">
    <span class="md-ellipsis">
      Segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Shared subscription
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#math" class="md-nav__link">
    <span class="md-ellipsis">
      Math
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Math">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#associative-property" class="md-nav__link">
    <span class="md-ellipsis">
      Associative property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commutative-property" class="md-nav__link">
    <span class="md-ellipsis">
      Commutative property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#harmonic-mean" class="md-nav__link">
    <span class="md-ellipsis">
      Harmonic mean
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network" class="md-nav__link">
    <span class="md-ellipsis">
      Network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arp-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      ARP protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average-connection-speed-in-usa" class="md-nav__link">
    <span class="md-ellipsis">
      Average connection speed in USA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backpressure" class="md-nav__link">
    <span class="md-ellipsis">
      Backpressure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bandwidth" class="md-nav__link">
    <span class="md-ellipsis">
      Bandwidth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgp" class="md-nav__link">
    <span class="md-ellipsis">
      BGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cors" class="md-nav__link">
    <span class="md-ellipsis">
      CORS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference-ping-heartbeat" class="md-nav__link">
    <span class="md-ellipsis">
      Difference ping &amp; heartbeat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference-tcp-udp" class="md-nav__link">
    <span class="md-ellipsis">
      Difference TCP &amp; UDP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference-view-materialized-view" class="md-nav__link">
    <span class="md-ellipsis">
      Difference view &amp; materialized view
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    <span class="md-ellipsis">
      DNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns-lookup-push-or-pull" class="md-nav__link">
    <span class="md-ellipsis">
      DNS lookup: push or pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#health-checks-passive-vs-active" class="md-nav__link">
    <span class="md-ellipsis">
      Health checks: passive vs. active
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet-model" class="md-nav__link">
    <span class="md-ellipsis">
      Internet model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer-4-vs-layer-7-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 4 vs. layer 7 load balancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac-address" class="md-nav__link">
    <span class="md-ellipsis">
      MAC address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-size-of-a-tcp-packet" class="md-nav__link">
    <span class="md-ellipsis">
      Max size of a TCP packet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mqtt-lwt" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT LWT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ntp" class="md-nav__link">
    <span class="md-ellipsis">
      NTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osi-model" class="md-nav__link">
    <span class="md-ellipsis">
      OSI model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers" class="md-nav__link">
    <span class="md-ellipsis">
      Routers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers-buffering" class="md-nav__link">
    <span class="md-ellipsis">
      Routers buffering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Routers processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing-table" class="md-nav__link">
    <span class="md-ellipsis">
      Routing table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-mesh" class="md-nav__link">
    <span class="md-ellipsis">
      Service mesh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch" class="md-nav__link">
    <span class="md-ellipsis">
      Switch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-congestion-control" class="md-nav__link">
    <span class="md-ellipsis">
      TCP congestion control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-connection-backlog" class="md-nav__link">
    <span class="md-ellipsis">
      TCP connection backlog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-flow-control" class="md-nav__link">
    <span class="md-ellipsis">
      TCP flow control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-handshake" class="md-nav__link">
    <span class="md-ellipsis">
      TCP handshake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocket" class="md-nav__link">
    <span class="md-ellipsis">
      Websocket
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-cant-we-rely-on-the-system-clock-in-distributed-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Why can't we rely on the system clock in distributed systems?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reliability" class="md-nav__link">
    <span class="md-ellipsis">
      Reliability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reliability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bulkhead-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Bulkhead pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cascading-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Cascading failure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#causal-consistency-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Causal consistency implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circuit-breaker" class="md-nav__link">
    <span class="md-ellipsis">
      Circuit breaker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exponential-backoff" class="md-nav__link">
    <span class="md-ellipsis">
      Exponential backoff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fault-tolerance" class="md-nav__link">
    <span class="md-ellipsis">
      Fault tolerance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jitter" class="md-nav__link">
    <span class="md-ellipsis">
      Jitter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#knee-point" class="md-nav__link">
    <span class="md-ellipsis">
      Knee point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phi-accrual-failure-detector" class="md-nav__link">
    <span class="md-ellipsis">
      Phi-accrual failure detector
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retry-amplification" class="md-nav__link">
    <span class="md-ellipsis">
      Retry amplification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificate-authorities" class="md-nav__link">
    <span class="md-ellipsis">
      Certificate authorities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cipher" class="md-nav__link">
    <span class="md-ellipsis">
      Cipher
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confidentiality" class="md-nav__link">
    <span class="md-ellipsis">
      Confidentiality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrity" class="md-nav__link">
    <span class="md-ellipsis">
      Integrity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mutual-tls" class="md-nav__link">
    <span class="md-ellipsis">
      Mutual TLS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-2" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-key-infrastructure-pki" class="md-nav__link">
    <span class="md-ellipsis">
      Public key infrastructure (PKI)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls-handshake" class="md-nav__link">
    <span class="md-ellipsis">
      TLS handshake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-main-uses-of-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Two main uses of encryption
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-types-of-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Two types of encryption
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-does-digital-signature-provide" class="md-nav__link">
    <span class="md-ellipsis">
      What does digital signature provide
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-does-tls-provide" class="md-nav__link">
    <span class="md-ellipsis">
      What does TLS provide?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ðŸ’¡ Anki Versions (Spaced Repetition)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ðŸ’¡ Anki Versions (Spaced Repetition)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anki/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anki (Spaced Repetition)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cache" class="md-nav__link">
    <span class="md-ellipsis">
      Cache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cache-aside" class="md-nav__link">
    <span class="md-ellipsis">
      Cache aside
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-aside-vs-read-through" class="md-nav__link">
    <span class="md-ellipsis">
      Cache aside vs. read-through
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-eviction-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Cache eviction policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-locations" class="md-nav__link">
    <span class="md-ellipsis">
      Cache locations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-refresh-ahead" class="md-nav__link">
    <span class="md-ellipsis">
      Cache: refresh-ahead
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-write-through-vs-write-back" class="md-nav__link">
    <span class="md-ellipsis">
      Cache: write through vs. write back
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#four-main-distributed-cache-benefits" class="md-nav__link">
    <span class="md-ellipsis">
      Four main distributed cache benefits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-metric-for-cache" class="md-nav__link">
    <span class="md-ellipsis">
      Main metric for cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-through-cache" class="md-nav__link">
    <span class="md-ellipsis">
      Read-through cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-a-cache" class="md-nav__link">
    <span class="md-ellipsis">
      When to use a cache
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cloud">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cdn" class="md-nav__link">
    <span class="md-ellipsis">
      CDN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#db" class="md-nav__link">
    <span class="md-ellipsis">
      DB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-main-reasons-to-partition-data" class="md-nav__link">
    <span class="md-ellipsis">
      3 main reasons to partition data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acid-property" class="md-nav__link">
    <span class="md-ellipsis">
      ACID property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anti-entropy" class="md-nav__link">
    <span class="md-ellipsis">
      Anti-entropy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#byzantine-fault-tolerant" class="md-nav__link">
    <span class="md-ellipsis">
      Byzantine fault-tolerant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calm-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      CALM theorem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cap-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      CAP theorem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caveat-of-serializability" class="md-nav__link">
    <span class="md-ellipsis">
      Caveat of serializability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chain-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Chain replication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chain-replication-vs-consensus" class="md-nav__link">
    <span class="md-ellipsis">
      Chain replication vs. consensus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-data-capture-cdc" class="md-nav__link">
    <span class="md-ellipsis">
      Change data capture (CDC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrency-control" class="md-nav__link">
    <span class="md-ellipsis">
      Concurrency control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consensus" class="md-nav__link">
    <span class="md-ellipsis">
      Consensus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistency-models" class="md-nav__link">
    <span class="md-ellipsis">
      Consistency models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cqrs" class="md-nav__link">
    <span class="md-ellipsis">
      CQRS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crdt" class="md-nav__link">
    <span class="md-ellipsis">
      CRDT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crdt-and-collaborative-applications-eg-google-docs" class="md-nav__link">
    <span class="md-ellipsis">
      CRDT and collaborative applications (e.g., Google Docs)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db-indexes-tradeoff" class="md-nav__link">
    <span class="md-ellipsis">
      DB indexes tradeoff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db-internal-components" class="md-nav__link">
    <span class="md-ellipsis">
      DB internal components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#db-read-vs-write-heavy-latency-vs-consistency-availability-vs-consistency-acid-vs-non-acid" class="md-nav__link">
    <span class="md-ellipsis">
      DB: read vs. write-heavy, latency vs. consistency, availability vs. consistency, ACID vs. non-ACID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delta-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Delta CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#denormalization" class="md-nav__link">
    <span class="md-ellipsis">
      Denormalization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-consideration-when-partitioning-data" class="md-nav__link">
    <span class="md-ellipsis">
      Design consideration when partitioning data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downside-of-distributed-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Downside of distributed transactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-sourcing" class="md-nav__link">
    <span class="md-ellipsis">
      Event sourcing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eventual-consistency-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Eventual consistency requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-solutions-offering-leader-election-abstractions" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of solutions offering leader election abstractions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#federation" class="md-nav__link">
    <span class="md-ellipsis">
      Federation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fencing-token" class="md-nav__link">
    <span class="md-ellipsis">
      Fencing token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gossip-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      Gossip protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-db-main-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      Graph DB main use case
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hinted-handoff" class="md-nav__link">
    <span class="md-ellipsis">
      Hinted handoff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hot-spot-in-partitioning" class="md-nav__link">
    <span class="md-ellipsis">
      Hot spot in partitioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-a-database-strategy-to-handle-rebalancing" class="md-nav__link">
    <span class="md-ellipsis">
      In a database, strategy to handle rebalancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isolation-levels" class="md-nav__link">
    <span class="md-ellipsis">
      Isolation levels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#known-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Known CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last-write-wins-lww" class="md-nav__link">
    <span class="md-ellipsis">
      Last-write-wins (LWW)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leader-election" class="md-nav__link">
    <span class="md-ellipsis">
      Leader election
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lsm-tree" class="md-nav__link">
    <span class="md-ellipsis">
      LSM tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lsm-tree-vs-b-tree" class="md-nav__link">
    <span class="md-ellipsis">
      LSM tree vs. B-tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-difference-between-consistency-models-and-isolation-levels" class="md-nav__link">
    <span class="md-ellipsis">
      Main difference between consistency models and isolation levels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merkle-tree" class="md-nav__link">
    <span class="md-ellipsis">
      Merkle tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monotonic-reads-consistency-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Monotonic reads consistency implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mvcc" class="md-nav__link">
    <span class="md-ellipsis">
      MVCC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#n1-select-problem" class="md-nav__link">
    <span class="md-ellipsis">
      N+1 select problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nosql-main-types-and-main-architecture-principles" class="md-nav__link">
    <span class="md-ellipsis">
      NoSQL: main types and main architecture principles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operation-based-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Operation-based CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operational-transformation-ot-concept-and-main-drawback" class="md-nav__link">
    <span class="md-ellipsis">
      Operational transformation (OT): concept and main drawback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optimistic-concurrency-control-pros-and-cons" class="md-nav__link">
    <span class="md-ellipsis">
      Optimistic concurrency control: pros and cons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pacelc-theorem" class="md-nav__link">
    <span class="md-ellipsis">
      PACELC theorem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioning-sharding" class="md-nav__link">
    <span class="md-ellipsis">
      Partitioning (sharding)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioning-criteria" class="md-nav__link">
    <span class="md-ellipsis">
      Partitioning criteria
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partitioning-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Partitioning methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quorum" class="md-nav__link">
    <span class="md-ellipsis">
      Quorum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raft" class="md-nav__link">
    <span class="md-ellipsis">
      Raft
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Raft">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leader-election_1" class="md-nav__link">
    <span class="md-ellipsis">
      Leader election
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replication" class="md-nav__link">
    <span class="md-ellipsis">
      Replication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-repair" class="md-nav__link">
    <span class="md-ellipsis">
      Read repair
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relation-between-replication-factor-write-consistency-and-read-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      Relation between replication factor, write consistency and read consistency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replication-vs-partition-impacts" class="md-nav__link">
    <span class="md-ellipsis">
      Replication vs. partition: impacts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema-on-read-vs-schema-on-write" class="md-nav__link">
    <span class="md-ellipsis">
      Schema-on-read vs. schema-on-write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serializability" class="md-nav__link">
    <span class="md-ellipsis">
      Serializability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serializable-snapshot-isolation-ssi" class="md-nav__link">
    <span class="md-ellipsis">
      Serializable Snapshot Isolation (SSI)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-leader-multi-leader-leaderless-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Single-leader, multi-leader, leaderless replication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Single-leader, multi-leader, leaderless replication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-leader" class="md-nav__link">
    <span class="md-ellipsis">
      Single-leader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-leader" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-leader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leaderless-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Leaderless replication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sloppy-quorum" class="md-nav__link">
    <span class="md-ellipsis">
      Sloppy quorum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshot-isolation-si" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshot Isolation (SI)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshot-isolation-common-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshot Isolation common implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sstable" class="md-nav__link">
    <span class="md-ellipsis">
      SSTable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state-based-crdts-definition-and-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      State-based CRDTs: definition and requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strong-eventual-consistency-definition-and-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Strong eventual consistency: definition and requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#three-phase-commit-3pc" class="md-nav__link">
    <span class="md-ellipsis">
      Three-phase commit (3PC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-main-approaches-to-partition-a-table-that-has-secondary-indexes" class="md-nav__link">
    <span class="md-ellipsis">
      Two main approaches to partition a table that has secondary indexes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-types-of-crdts" class="md-nav__link">
    <span class="md-ellipsis">
      Two types of CRDTs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-phase-commit-2pc" class="md-nav__link">
    <span class="md-ellipsis">
      Two-phase commit (2PC)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wal" class="md-nav__link">
    <span class="md-ellipsis">
      WAL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-relational-vs-when-document" class="md-nav__link">
    <span class="md-ellipsis">
      When relational vs. when document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-a-column-oriented-store" class="md-nav__link">
    <span class="md-ellipsis">
      When to use a column-oriented store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-db-schemaless-is-misleading" class="md-nav__link">
    <span class="md-ellipsis">
      Why DB schemaless is misleading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-is-in-memory-faster" class="md-nav__link">
    <span class="md-ellipsis">
      Why is in-memory faster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-and-read-amplification" class="md-nav__link">
    <span class="md-ellipsis">
      Write and read amplification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-heavy-and-replication-type" class="md-nav__link">
    <span class="md-ellipsis">
      Write heavy and replication type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design" class="md-nav__link">
    <span class="md-ellipsis">
      Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#auditing" class="md-nav__link">
    <span class="md-ellipsis">
      Auditing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backward-vs-forward-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Backward vs. forward compatibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bloom-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Bloom filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#causality" class="md-nav__link">
    <span class="md-ellipsis">
      Causality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrent-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Concurrent operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consistent-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Consistent hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-impacts-of-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      Design impacts of sharing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-read-heavy-vs-write-heavy-impacts" class="md-nav__link">
    <span class="md-ellipsis">
      Design: read-heavy vs. write-heavy impacts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#different-types-of-message-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Different types of message failure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-log-vs-message-queue" class="md-nav__link">
    <span class="md-ellipsis">
      Event log vs. message queue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exactly-once-delivery" class="md-nav__link">
    <span class="md-ellipsis">
      Exactly-once delivery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flp-impossibility" class="md-nav__link">
    <span class="md-ellipsis">
      FLP impossibility
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geohashing" class="md-nav__link">
    <span class="md-ellipsis">
      Geohashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashing-definition-and-size-of-md5-and-sha256" class="md-nav__link">
    <span class="md-ellipsis">
      Hashing definition and size of MD5 and SHA256
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hdfs" class="md-nav__link">
    <span class="md-ellipsis">
      HDFS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-reduce-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      How to reduce sharing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hyperloglog" class="md-nav__link">
    <span class="md-ellipsis">
      HyperLogLog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HyperLogLog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backing-idea" class="md-nav__link">
    <span class="md-ellipsis">
      Backing idea
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#algo" class="md-nav__link">
    <span class="md-ellipsis">
      Algo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bucketing" class="md-nav__link">
    <span class="md-ellipsis">
      Bucketing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#idempotent" class="md-nav__link">
    <span class="md-ellipsis">
      Idempotent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#latency-numbers-every-programmer-should-know" class="md-nav__link">
    <span class="md-ellipsis">
      Latency numbers every programmer should know
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lease" class="md-nav__link">
    <span class="md-ellipsis">
      Lease
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#least-loaded-endpoint-load-balancing-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      Least loaded endpoint load balancing strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#liveness-property" class="md-nav__link">
    <span class="md-ellipsis">
      Liveness property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-balancing" class="md-nav__link">
    <span class="md-ellipsis">
      Load balancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-shedding" class="md-nav__link">
    <span class="md-ellipsis">
      Load shedding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#locality" class="md-nav__link">
    <span class="md-ellipsis">
      Locality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log" class="md-nav__link">
    <span class="md-ellipsis">
      Log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-compaction" class="md-nav__link">
    <span class="md-ellipsis">
      Log compaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#main-drawback-of-shared-nothing-architectures" class="md-nav__link">
    <span class="md-ellipsis">
      Main drawback of shared-nothing architectures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapreduce" class="md-nav__link">
    <span class="md-ellipsis">
      MapReduce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#microservices-pros-and-cons" class="md-nav__link">
    <span class="md-ellipsis">
      Microservices: pros and cons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number-of-values-to-generate-to-reach-50-chances-of-collision-32-bit-64-bit-and-128-bit-hash" class="md-nav__link">
    <span class="md-ellipsis">
      Number of values to generate to reach 50% chances of collision: 32-bit, 64-bit, and 128-bit hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orchestration-vs-choreography" class="md-nav__link">
    <span class="md-ellipsis">
      Orchestration vs. choreography
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outbox-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Outbox pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perfect-hashing" class="md-nav__link">
    <span class="md-ellipsis">
      Perfect hashing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quadtree" class="md-nav__link">
    <span class="md-ellipsis">
      Quadtree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rate-limiting-throttling-definition-and-algos" class="md-nav__link">
    <span class="md-ellipsis">
      Rate-limiting (throttling): definition and algos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rate-limiting (throttling): definition and algos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#token-bucket-algo" class="md-nav__link">
    <span class="md-ellipsis">
      Token bucket algo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leaking-bucket-algo" class="md-nav__link">
    <span class="md-ellipsis">
      Leaking bucket algo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebalancing" class="md-nav__link">
    <span class="md-ellipsis">
      Rebalancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    <span class="md-ellipsis">
      REST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest-vs-grpc" class="md-nav__link">
    <span class="md-ellipsis">
      REST vs. gRPC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safety-property" class="md-nav__link">
    <span class="md-ellipsis">
      Safety property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saga" class="md-nav__link">
    <span class="md-ellipsis">
      Saga
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scalability-ceiling" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability ceiling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-nothing-architectures" class="md-nav__link">
    <span class="md-ellipsis">
      Shared-nothing architectures
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-of-truth" class="md-nav__link">
    <span class="md-ellipsis">
      Source of truth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#split-brain" class="md-nav__link">
    <span class="md-ellipsis">
      Split-brain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throughput" class="md-nav__link">
    <span class="md-ellipsis">
      Throughput
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#total-vs-partial-order" class="md-nav__link">
    <span class="md-ellipsis">
      Total vs. partial order
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuid" class="md-nav__link">
    <span class="md-ellipsis">
      UUID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validation-vs-verification" class="md-nav__link">
    <span class="md-ellipsis">
      Validation vs. verification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vector-clock" class="md-nav__link">
    <span class="md-ellipsis">
      Vector clock
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-asynchronous-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Why asynchronous communication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HTTP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#301-vs-302" class="md-nav__link">
    <span class="md-ellipsis">
      301 vs. 302
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#403-or-404" class="md-nav__link">
    <span class="md-ellipsis">
      403 or 404?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    <span class="md-ellipsis">
      Cookie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#four-main-http2-features" class="md-nav__link">
    <span class="md-ellipsis">
      Four main HTTP/2 features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hls" class="md-nav__link">
    <span class="md-ellipsis">
      HLS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http_1" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-cache-control-header" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP cache-control header
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-etag" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP Etag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-keep-alive" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP keep-alive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-methods-safeness-and-idempotence" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP methods: safeness and idempotence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-safe-method" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP safe method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-status-code-429" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP status code 429
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-status-codes" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP status codes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-happens-if-you-type-googlecom-in-your-browser" class="md-nav__link">
    <span class="md-ellipsis">
      What happens if you type google.com in your browser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kafka" class="md-nav__link">
    <span class="md-ellipsis">
      Kafka
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kafka">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#consumer-types" class="md-nav__link">
    <span class="md-ellipsis">
      Consumer types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#durabilityavailability-and-latencythroughput-tradeoffs" class="md-nav__link">
    <span class="md-ellipsis">
      Durability/availability and latency/throughput tradeoffs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-compaction_1" class="md-nav__link">
    <span class="md-ellipsis">
      Log compaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#offset" class="md-nav__link">
    <span class="md-ellipsis">
      Offset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partition" class="md-nav__link">
    <span class="md-ellipsis">
      Partition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#partition-distribution" class="md-nav__link">
    <span class="md-ellipsis">
      Partition distribution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebalancing_1" class="md-nav__link">
    <span class="md-ellipsis">
      Rebalancing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#segment" class="md-nav__link">
    <span class="md-ellipsis">
      Segment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Shared subscription
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#math" class="md-nav__link">
    <span class="md-ellipsis">
      Math
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Math">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#associative-property" class="md-nav__link">
    <span class="md-ellipsis">
      Associative property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commutative-property" class="md-nav__link">
    <span class="md-ellipsis">
      Commutative property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#harmonic-mean" class="md-nav__link">
    <span class="md-ellipsis">
      Harmonic mean
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network" class="md-nav__link">
    <span class="md-ellipsis">
      Network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arp-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      ARP protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#average-connection-speed-in-usa" class="md-nav__link">
    <span class="md-ellipsis">
      Average connection speed in USA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backpressure" class="md-nav__link">
    <span class="md-ellipsis">
      Backpressure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bandwidth" class="md-nav__link">
    <span class="md-ellipsis">
      Bandwidth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bgp" class="md-nav__link">
    <span class="md-ellipsis">
      BGP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cors" class="md-nav__link">
    <span class="md-ellipsis">
      CORS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference-ping-heartbeat" class="md-nav__link">
    <span class="md-ellipsis">
      Difference ping &amp; heartbeat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference-tcp-udp" class="md-nav__link">
    <span class="md-ellipsis">
      Difference TCP &amp; UDP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#difference-view-materialized-view" class="md-nav__link">
    <span class="md-ellipsis">
      Difference view &amp; materialized view
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    <span class="md-ellipsis">
      DNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns-lookup-push-or-pull" class="md-nav__link">
    <span class="md-ellipsis">
      DNS lookup: push or pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#health-checks-passive-vs-active" class="md-nav__link">
    <span class="md-ellipsis">
      Health checks: passive vs. active
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internet-model" class="md-nav__link">
    <span class="md-ellipsis">
      Internet model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#layer-4-vs-layer-7-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Layer 4 vs. layer 7 load balancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mac-address" class="md-nav__link">
    <span class="md-ellipsis">
      MAC address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-size-of-a-tcp-packet" class="md-nav__link">
    <span class="md-ellipsis">
      Max size of a TCP packet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mqtt-lwt" class="md-nav__link">
    <span class="md-ellipsis">
      MQTT LWT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ntp" class="md-nav__link">
    <span class="md-ellipsis">
      NTP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osi-model" class="md-nav__link">
    <span class="md-ellipsis">
      OSI model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers" class="md-nav__link">
    <span class="md-ellipsis">
      Routers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers-buffering" class="md-nav__link">
    <span class="md-ellipsis">
      Routers buffering
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routers-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Routers processing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing-table" class="md-nav__link">
    <span class="md-ellipsis">
      Routing table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#service-mesh" class="md-nav__link">
    <span class="md-ellipsis">
      Service mesh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch" class="md-nav__link">
    <span class="md-ellipsis">
      Switch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-congestion-control" class="md-nav__link">
    <span class="md-ellipsis">
      TCP congestion control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-connection-backlog" class="md-nav__link">
    <span class="md-ellipsis">
      TCP connection backlog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-flow-control" class="md-nav__link">
    <span class="md-ellipsis">
      TCP flow control
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp-handshake" class="md-nav__link">
    <span class="md-ellipsis">
      TCP handshake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocket" class="md-nav__link">
    <span class="md-ellipsis">
      Websocket
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-cant-we-rely-on-the-system-clock-in-distributed-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Why can't we rely on the system clock in distributed systems?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reliability" class="md-nav__link">
    <span class="md-ellipsis">
      Reliability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reliability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bulkhead-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Bulkhead pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cascading-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Cascading failure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#causal-consistency-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Causal consistency implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#circuit-breaker" class="md-nav__link">
    <span class="md-ellipsis">
      Circuit breaker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exponential-backoff" class="md-nav__link">
    <span class="md-ellipsis">
      Exponential backoff
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fault-tolerance" class="md-nav__link">
    <span class="md-ellipsis">
      Fault tolerance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jitter" class="md-nav__link">
    <span class="md-ellipsis">
      Jitter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#knee-point" class="md-nav__link">
    <span class="md-ellipsis">
      Knee point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phi-accrual-failure-detector" class="md-nav__link">
    <span class="md-ellipsis">
      Phi-accrual failure detector
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retry-amplification" class="md-nav__link">
    <span class="md-ellipsis">
      Retry amplification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certificate-authorities" class="md-nav__link">
    <span class="md-ellipsis">
      Certificate authorities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cipher" class="md-nav__link">
    <span class="md-ellipsis">
      Cipher
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confidentiality" class="md-nav__link">
    <span class="md-ellipsis">
      Confidentiality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrity" class="md-nav__link">
    <span class="md-ellipsis">
      Integrity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mutual-tls" class="md-nav__link">
    <span class="md-ellipsis">
      Mutual TLS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-2" class="md-nav__link">
    <span class="md-ellipsis">
      OAuth 2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-key-infrastructure-pki" class="md-nav__link">
    <span class="md-ellipsis">
      Public key infrastructure (PKI)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tls-handshake" class="md-nav__link">
    <span class="md-ellipsis">
      TLS handshake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-main-uses-of-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Two main uses of encryption
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-types-of-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Two types of encryption
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-does-digital-signature-provide" class="md-nav__link">
    <span class="md-ellipsis">
      What does digital signature provide
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-does-tls-provide" class="md-nav__link">
    <span class="md-ellipsis">
      What does TLS provide?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="design-deck">Design Deck</h1>
<p><a class="glightbox" href="../img/designdeck.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/designdeck.png" /></a></p>
<details class="success" open="open">
<summary>Anki</summary>
<p>Check the Anki version <a href="../anki/">here</a>.</p>
</details>
<h2 id="cache">Cache</h2>
<h3 id="cache-aside">Cache aside</h3>
<p>Application is responsible for reading and writing to the DB (using write-through or write-back policy)</p>
<p>The cache doesn't interact with the storage directly</p>
<p><a class="glightbox" href="../img/cache-aside.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/cache-aside.png" /></a></p>
<h3 id="cache-aside-vs-read-through">Cache aside vs. read-through</h3>
<p>Cache aside:
- Data model can be different from DB</p>
<p>Read-through:
- Same data model as DB
- Can use the refresh-ahead pattern</p>
<h3 id="cache-eviction-policy">Cache eviction policy</h3>
<ul>
<li>LRU (Least Recently Used)</li>
<li>LFU (Least Frequently Used)</li>
<li>FIFO</li>
</ul>
<h3 id="cache-locations">Cache locations</h3>
<ul>
<li>Client caching</li>
<li>CDN</li>
<li>In memory</li>
<li>Distributed cache</li>
<li>Database caching (query or object)</li>
</ul>
<h3 id="cache-refresh-ahead">Cache: refresh-ahead</h3>
<p>Cache to automatically refresh any recently accessed entry prior to its expiration</p>
<p>Used with read-through cache</p>
<ul>
<li>Pro: can result in reduced latency</li>
<li>Con: not accurately predicting which items are likely to be needed in the future</li>
</ul>
<h3 id="cache-write-through-vs-write-back">Cache: write through vs. write back</h3>
<p>Main difference: consistency</p>
<p>Write through:
1. Write to the cache and the DB in a single DB transaction (may still lead to cache inconsistency if the DB commit failed)
2. Return</p>
<p>Write back:
1. Write to the cache
2. Return
3. Asynchronously store in DB</p>
<h3 id="four-main-distributed-cache-benefits">Four main distributed cache benefits</h3>
<ul>
<li>Improve read latency</li>
<li>Can improve availability (e.g., DB unavailable, responses are served from the cache)</li>
<li>Save computation time (e.g., SQL computation)</li>
<li>Independently scalable from the rest of the system</li>
</ul>
<h3 id="main-metric-for-cache">Main metric for cache</h3>
<p>Cache hit ratio: hits / total accesses</p>
<h3 id="read-through-cache">Read-through cache</h3>
<p>Read-through cache sits in-line with the DB</p>
<p>Single entry point</p>
<h3 id="when-to-use-a-cache">When to use a cache</h3>
<ul>
<li>Speed up reads</li>
<li>Response complex to compute</li>
</ul>
<h2 id="cloud">Cloud</h2>
<h3 id="cdn">CDN</h3>
<p>Content Delivery Network</p>
<p>Network of geographically dispersed servers used to deliver static content (images, CSS, Javascript files, etc.)</p>
<p>Two kinds of CDNs:
- Push CDN: we are responsible for providing the content
- Pull CDN: CDN is responsible for pulling the right content (expiration to be used)</p>
<p>Pull is easier to handle whereas push gives us more flexibility</p>
<p>Use case for pull: Docker Hub S3 layer</p>
<h2 id="db">DB</h2>
<h3 id="3-main-reasons-to-partition-data">3 main reasons to partition data</h3>
<ul>
<li>Scalability</li>
<li>Improve performance of write heavy systems (usually, for example, key range partitioning can improve reads)</li>
<li>Dataset doesnâ€™t fit into a single node</li>
</ul>
<h3 id="acid-property">ACID property</h3>
<ul>
<li>
<p>Atomic: all transaction succeeds or none does (all or nothing)</p>
</li>
<li>
<p>Consistency: from one valid state to another (invariants must always be true)</p>
</li>
</ul>
<p>Not necessarily a property of the DB (e.g., foreign key constraint), can be a property of the application (e.g., credits and debits must be balanced)</p>
<p>Different from consistency in eventual consistency (which is more about convergence as the matter is replicating data)</p>
<ul>
<li>Isolation: a transaction is not affected by another ongoing transaction (a transaction cannot read from another transaction that has not yet been completed)</li>
</ul>
<p>Refers to serializability</p>
<ul>
<li>Durability: once a transaction is committed, it will remain in the system</li>
</ul>
<h3 id="anti-entropy">Anti-entropy</h3>
<p>Optimization to favor latency over consistency when writing to a DB (e.g., leaderless replication)</p>
<p>Background process to constantly looks for differences in data</p>
<p>Could be used as an alternative or in conjunction with read repair</p>
<h3 id="byzantine-fault-tolerant">Byzantine fault-tolerant</h3>
<p>A system is Byzantine fault-tolerant if it continues to operate correctly if in the case of a Bizantine's problem (some of the nodes malfunctioning, not obeying the protocol or malicious attackers).</p>
<h3 id="calm-theorem">CALM theorem</h3>
<p>Consistency As Logical Monotonicity</p>
<p>A program has a consistent, coordination-free (e.g., consensus-free) distributed implementation if and only if it is monotonic</p>
<p>Consistency in this context doesn't mean linearizability. It focuses on the consistency of the program's output while traditional consistency focus on the consistency of reads and writes.</p>
<p>In CALM, a consistent program is one that produces the same output no matter in which order the inputs are processed and despite any conflicts.</p>
<p>Said differently, does the implementation produce the outcome we expect despite any race condition that may arise.</p>
<h3 id="cap-theorem">CAP theorem</h3>
<p>Consistency, availability, partition tolerance (e.g., one node cut off from the rest of the cluster because of a network partition) =&gt; pick 2 out of 3</p>
<p>C refers to linearizability</p>
<h3 id="caveat-of-serializability">Caveat of serializability</h3>
<p>It's possible that serial order is different from the order in which transactions were actually run (latest may not win)</p>
<p>If not, we need a stricter isolation level: strict serializability (serializability + linearizability)</p>
<h3 id="chain-replication">Chain replication</h3>
<p>Replication protocol that uses a different topology than leader based replication protocols like Raft</p>
<p>Left-most process referred as the chain's head, right-most as the chain's tail:
- Client send writes to the head, which updates its local state and forwards to the next process in the chain
- Next process updates its local state and forwards to the next process in the chain
- Etc.
- Once the update is received by the tail, the ack flows back to the head which replies to the client that the write succeeded</p>
<p><a class="glightbox" href="../img/chain-replication.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/chain-replication.png" /></a></p>
<p>Fault tolerance is delegated to a dedicated component: control plane
- If head fails: the control plane removes it and makes the next as the head
- If intermediate node fails: the control plane removes it temporarily from the chain, and then adds it back eventually as the tail
- If tail fails: the control plane removes it and makes the predecessor as the new tail</p>
<p>Benefits:
- Strongly consistent protocol
- Reads are served from the tail without contacting other replicas first which allows a lower response time</p>
<p>Drawbacks:
- Writes are slower than quorum-based replication.
- A single slow node can slow down all writes.
- As reads are served from a single node, it can't be scaled horizontally. A mitigation is to allow intermediate nodes to serve reads but they can do it only if a read is considered as clean (the ack for this object has been returned to the predecessor). // The tail serves as the authority of the latest clean version</p>
<p>Notes:
- To avoid the overhead of having a single node handling the writes, we can find a way to shard data and handle multiple chains (see https://engineering.fb.com/2022/05/04/data-infrastructure/delta/)</p>
<h3 id="chain-replication-vs-consensus">Chain replication vs. consensus</h3>
<p>Similar consistency guarantees</p>
<p>Chain replication:
- Optimized for reads for CP systems
- Better read availability: a chain of n nodes can tolerate up to n-2 nodes failure</p>
<p>Example with 5 nodes:
    - Chain replication: tolerate up to 3 nodes failure
    - Consensus with R=3 and W=3: tolerate up to 2 nodes failure</p>
<p>Consensus:
- Optimized for writes for CP systems</p>
<h3 id="change-data-capture-cdc">Change data capture (CDC)</h3>
<p>A datastore is selected as the authoritative source of data where all update operations are performed</p>
<p>An event log is then created from this datastore that is consumed by all the remaining operations the same way as in event sourcing</p>
<h3 id="concurrency-control">Concurrency control</h3>
<p>Ensures that correct results for concurrent operations are generated</p>
<p>Pessimistic: lock (mutual exclusion)</p>
<p>Optimistic: checks for conflicts at the end of a transaction</p>
<p>In the end, concurrency control serves the same purpose as atomicity</p>
<h3 id="consensus">Consensus</h3>
<p>Set of processes agreeing on some data value in a fault-tolerant way</p>
<p>Satisfies safety and liveness</p>
<h3 id="consistency-models">Consistency models</h3>
<p>Describe what expectations clients might have in terms of possible returned values despite the existence of multiple copies of data and concurrent access to it</p>
<p>Not the C in ACID but the C in CAP (converging to an end state)</p>
<p><a class="glightbox" href="../img/consistency-models.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/consistency-models.png" /></a></p>
<ul>
<li>
<p>Eventual consistency: all the nodes converge to the same state (not necessarily the latest)</p>
</li>
<li>
<p>Write follow reads: ensures that writes are ordered after writes that were observed by previous read operations</p>
</li>
</ul>
<p>Example:
    - P1 reads value =&gt; foo
    - P1 updates value to bar
      =&gt; Every node will converge to bar (a process can't read bar, then foo, regardless of the process)
      Also known as session causality</p>
<ul>
<li>
<p>Monotonic reads consistency: a client doing several reads in sequence will never go backward in time</p>
</li>
<li>
<p>Monotonic writes consistency: values originating from the same client appear in the order the client has executed them</p>
</li>
<li>
<p>Read-after-write-consistency: if a client performs a write, then this write if visible during subsequent reads</p>
</li>
</ul>
<p>Also known as read-your-writes consistency</p>
<ul>
<li>
<p>Causal consistency: operations that are causally related need to be seen in the same order by all the nodes</p>
</li>
<li>
<p>Sequential consistency: operations appear to take place in some total order, and that order is consistent with the order of operations from each individual clients</p>
</li>
</ul>
<p>Twitter example: no guarantee between which tweet is seen first between two friends posting at the same time, but the ordering is guaranteed for the same friend</p>
<ul>
<li>Linearizability: make a system appear as if there is only a single copy of the data and all operations are atomic (one operation at a time)</li>
</ul>
<p>Even though there may be multiple replicas, the application does not need to worry about them</p>
<p>C in CAP</p>
<p>Real time guarantees</p>
<h3 id="cqrs">CQRS</h3>
<p>Command Query Responsibility Segregation</p>
<p>Dissociate writes (command) from reads (query)</p>
<p>Pros:
- Allows creating stores per use case (e.g., analytics, geospatial)
- Scale the read and write parts independently</p>
<p>Cons:
- Eventual consistency between the stores</p>
<h3 id="crdt">CRDT</h3>
<p>Conflict-free Replicated Data Types</p>
<p>Data structure that is replicated across nodes:
- Replicas are updated independently, concurrently and without coordination
- An algo (part of the data type) can perform a deterministic conflict resolution
- Replicas are guaranteed to eventually converge to the same state
  =&gt; Strong eventual consistency</p>
<p>Used in the context of collaborative applications</p>
<p>Note: CRDTs can be combined to form new CRDTs</p>
<h3 id="crdt-and-collaborative-applications-eg-google-docs">CRDT and collaborative applications (e.g., Google Docs)</h3>
<p>Compared to OT, each character has a stable identifier (even if characters are added or deleted)</p>
<p>Example: 0 is the beginning of the document, 1 is the end of the document, every character has a fractional number as an ID</p>
<p>May lead to interleaving problems (e.g;, two inserted words by two users are interleaved: "Alice", "Bob" =&gt; "BoAlibce"</p>
<p>Interleaving depends on the merging algorithm used (e.g., Treedoc doesn't lead to interleaving)</p>
<h3 id="db-indexes-tradeoff">DB indexes tradeoff</h3>
<p>Speed up read query but slow down writes</p>
<h3 id="db-internal-components">DB internal components</h3>
<ul>
<li>Transport layer accepting requests</li>
<li>Query processor determining the most efficient way to run queries</li>
<li>Execution engine</li>
<li>Storage engine</li>
</ul>
<p><a class="glightbox" href="../img/db-internal-components.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/db-internal-components.png" /></a></p>
<h3 id="db-read-vs-write-heavy-latency-vs-consistency-availability-vs-consistency-acid-vs-non-acid">DB: read vs. write-heavy, latency vs. consistency, availability vs. consistency, ACID vs. non-ACID</h3>
<p><a class="glightbox" href="../img/db.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/db.png" /></a></p>
<h3 id="delta-crdts">Delta CRDTs</h3>
<p>Optimized state-based CRDTs where only recently applied changes to a state are replicated instead of the full state</p>
<h3 id="denormalization">Denormalization</h3>
<p>Introduce some amount of duplication in a normalized dataset in order to speed up reads (e.g., denormalized document, cache or index)</p>
<p>Cons:
- Requires more space
- May slow down writes</p>
<h3 id="design-consideration-when-partitioning-data">Design consideration when partitioning data</h3>
<p>Should match the primary access pattern</p>
<h3 id="downside-of-distributed-transactions">Downside of distributed transactions</h3>
<p>Performance penalty</p>
<p>Example: distributed transactions in MySQL are reported to be over 10 times slower than single-node transactions</p>
<h3 id="event-sourcing">Event sourcing</h3>
<p>Ensures that all changes to application state are stored as a sequence of events</p>
<h3 id="eventual-consistency-requirements">Eventual consistency requirements</h3>
<ul>
<li>Eventual delivery: every update applied at a replica is eventually applied to all replicas</li>
<li>Convergence: guarantees that replicas have applied the same updates eventually reach the same state</li>
</ul>
<h3 id="examples-of-solutions-offering-leader-election-abstractions">Examples of solutions offering leader election abstractions</h3>
<ul>
<li>etcd (linearizable)</li>
<li>ZooKeeper (not linearizable for read operations)</li>
</ul>
<h3 id="federation">Federation</h3>
<p>Splits up DB by function</p>
<h3 id="fencing-token">Fencing token</h3>
<p>Monotonically increasing token that increments whenever a client acquires a distributed lock</p>
<p>Use case: when writing to a DB, if the provided token has a lower value than the current one, rejects the write</p>
<p>Solve possible issues with lease as an update has to be made from the latest token</p>
<h3 id="gossip-protocol">Gossip protocol</h3>
<p>Peer-to-peer protocol based on the way epidemics spread</p>
<p>No central registry and the only way to spread common data is to rely on each member to pass it along to their neighbors</p>
<p>Useful when broadcasting to a large number of processes like thousands or more, where a deterministic protocol wouldn't scale</p>
<h3 id="graph-db-main-use-case">Graph DB main use case</h3>
<p>Relational can handle simple cases of many-to-many relationships</p>
<p>Yet, if the connections become more complex, it's more natural to start modeling data as a graph</p>
<h3 id="hinted-handoff">Hinted handoff</h3>
<p>Optimization to favor latency over consistency when writing to a DB</p>
<p>If a coordinator node cannot contact the necessary number of replicas, it stores locally the result of the operation and forward it to the failed node(s) after they recovered</p>
<p>Used in sloppy quorums</p>
<h3 id="hot-spot-in-partitioning">Hot spot in partitioning</h3>
<p>Partition is heavily loaded compared to others</p>
<p>Also called skew</p>
<h3 id="in-a-database-strategy-to-handle-rebalancing">In a database, strategy to handle rebalancing</h3>
<p>Not based on key hashing as a rebalancing would be huge</p>
<p>Simple solution: Create many more partitions than nodes and assign several partitions to each node (e.g., a db running on a cluster of 10 nodes may be split into 10k partitions). When a node is added to the cluster, it will steal a few partitions from every existing node</p>
<h3 id="isolation-levels">Isolation levels</h3>
<p>Degree to which transactions are isolated from other concurrent execution transactions</p>
<p>Isolations come at a performance cost (more coordination and synchronization)</p>
<p><a class="glightbox" href="../img/isolation-levels.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/isolation-levels.png" /></a></p>
<ul>
<li>Dirty writes: a transaction overwrites a value that has previously been written by another transaction that is still in-flight and has not been committed yet</li>
</ul>
<p>=&gt; Can violate integrity constraints</p>
<ul>
<li>Dirty reads: a transaction observes a write from a transaction that hasn't been committed yet</li>
</ul>
<p>=&gt; decisions can be taken based on data updates that can be rolled back</p>
<ul>
<li>
<p>Fuzzy reads: a transaction reads a value twice but sees a different value in each read because a committed transaction updated the value between the two reads</p>
</li>
<li>
<p>Lost updates: two transactions reads the same value and then try to update it to two different values, only one update survives</p>
</li>
</ul>
<p>Example: Two transactions read the current inventory size (say 100 items), add respectively 5 and 10 items and then store back the size. Depending on the execution order, then final order can be 110 instead of 115.</p>
<ul>
<li>
<p>Read skew: an integrity constraint seems to be violated because a transaction can only see partial results of another transaction</p>
</li>
<li>
<p>Write skew: when two transactions read the same objects, and then updates some of those objects</p>
</li>
</ul>
<p>Example: Two on-call doctors for a shift. Both feeling unwell, and decide to request leave. They both click the button at the same time. In the case of a write skew, the two transactions can succeed as for both, when reading the number of available doctors, it was more than one.</p>
<ul>
<li>Phantom reads: when a transaction does a predicate-based read and another transaction writes or removes a data matched by this predicate while the first transaction is still in flight</li>
</ul>
<p>Example: Transaction A computes the max and average age of employees. Transaction B is interleaved and inserts a lot of old employees. Thus, the average age could be larger than the max.</p>
<h3 id="known-crdts">Known CRDTs</h3>
<p>Counter:
- Grow-only counter: increment only
- Positive-negative counter: increment and decrement (combination of two grow only counter: one positive, one negative)</p>
<p>Register (a memory cell storing whatever):
- LWW-register: total order using timestamps
- Multi-value register: keep track of causality, in case of conflicts it returns all conflicting cases (analogy: Git with an interactive merge resolution)</p>
<p>Set:
- Grow-only set: once an element is added it can't be removed
- Two-phase set: elements can be added and removed (combination of two grow only set)
- LWW-element set (last-write-wins): similar to two-phase set but we associate a timestamp for each element to resolve conflicts
- Observed-remove set: use tags instead of timestamps; each element is associated to a list of add-tags and a list of remove-tags (example: vector clocks)
- Sequence: used to build collaborative applications (e.g., Treedoc)</p>
<h3 id="last-write-wins-lww">Last-write-wins (LWW)</h3>
<p>Conflict resolution based on timestamp</p>
<p>Used by DynamoDB or Cassandra to resolve conflicts</p>
<p>Shouldn't happen in single-master replication</p>
<h3 id="leader-election">Leader election</h3>
<p>Algorithm to guarantee at most one leader at any given time (safety) and that an election eventually completes (liveness)</p>
<h3 id="lsm-tree">LSM tree</h3>
<p>Log-Structured Merge tree</p>
<p>Consists of smaller mutable memory-resident (memtable) and larger immutable disk-resident (SSTable) components</p>
<p>Memtables data are sorted and flushed on disk when their size reaches a configurable threshold or periodically</p>
<p>Because of a memtable is just a special case of buffer, durability is not guaranteed (durability must be brought by replication)</p>
<p>Examples: Lucene, Cassandra, Bitcask, etc.</p>
<h3 id="lsm-tree-vs-b-tree">LSM tree vs. B-tree</h3>
<p>LSM-tree faster for writes, slower for reads because it has to check multiple data structures (bigger read amplification): memtable and SSTable</p>
<p>Compaction can impact ongoing requests</p>
<p>B-tree faster for reads, slower for writes as it must write every piece of data at least twice in the WAL &amp; tree itself (bigger write amplification)</p>
<p>Each key exists in exactly one place =&gt; easier to offer strong transactional semantics</p>
<h3 id="main-difference-between-consistency-models-and-isolation-levels">Main difference between consistency models and isolation levels</h3>
<p>Consistency models: applies to single-object operations</p>
<p>Isolation levels: applies to multi-object operations</p>
<h3 id="merkle-tree">Merkle tree</h3>
<p>A tree in which every leaf is labelled with the hash of a data block:
- Level n contains the data blocks
- Level n-1 the hash of one data block
- Level n-2 the hash of 2 data blocks
- Level 1 the hash of all the data blocks</p>
<p><a class="glightbox" href="../img/merkle-tree.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/merkle-tree.png" /></a></p>
<p>Efficient and secure verification of the contents of a large data structure</p>
<p>Allows reducing data transfered between a client and a server. For example, if we want to compare a merkle tree stored on a server with one store on the client, they can both exchange their top hash. If different, we can delve in and only get the data blocks which have changed.</p>
<h3 id="monotonic-reads-consistency-implementation">Monotonic reads consistency implementation</h3>
<p>One way to achieve it is to make sure each user always makes their reads from the same replica</p>
<h3 id="mvcc">MVCC</h3>
<p>Multiversion Concurrency Control</p>
<p>A possible implementation of optimistic concurrency control and snapshot isolation level</p>
<p>MVCC allows reads and writes to proceed with minimal coordination on the storage level since reads can continue accessing older values until the new ones are committed</p>
<h3 id="n1-select-problem">N+1 select problem</h3>
<p>Assuming a one-to-many relationship between 2 tables A and B =&gt; A 1-* B</p>
<p>If we want to iterate through all the A and for each one, print the list of B, the naive implementation would be:
- <code>select * from A</code>
- And then for each A, <code>select * from B where A_ID = ?</code></p>
<p>Alternatively, we could reduce the number of rount-trips to the DB from N+1 to 2 with a simple <code>select * from B</code></p>
<p>Most ORM tools prevent N+1 selects</p>
<h3 id="nosql-main-types-and-main-architecture-principles">NoSQL: main types and main architecture principles</h3>
<p>Key-value store, document store, column-oriented store or graph DB</p>
<ul>
<li>Mainly partition-based</li>
<li>Leverage eventual consistency</li>
</ul>
<h3 id="operation-based-crdts">Operation-based CRDTs</h3>
<p>Commutative replicated data types</p>
<p>Replication is made in propagating the update operation</p>
<p>Operations characteristics:
- Must be commutative.
- Not necessarily idempotent. If idempotent, OK. If not, it's up to the delivery layer to ensure the operations are delivered without duplication.
- Delivered in causal order.</p>
<h3 id="operational-transformation-ot-concept-and-main-drawback">Operational transformation (OT): concept and main drawback</h3>
<p>A way to handle collaborative applications</p>
<p>Receive update operations and depending on the operations that occur concurrently, transform them</p>
<p>Example:
- Initial state: "helo"
- Concurrently: user 1 inserts "l" at position 3 and user 2 inserts "!" at position 4
- If transaction for user 1 completes before the one of user 2, we end up with "hell!o" instead of "hello!"
- OT will transorm the transaction from user 2 into: insert "!" at position 5</p>
<p>Drawback: all the communications go through a central server (e.g., impossible with systems at scale such as Google Docs)</p>
<p>Replaced with CRDT</p>
<h3 id="optimistic-concurrency-control-pros-and-cons">Optimistic concurrency control: pros and cons</h3>
<p>Perform badly if high contention as it leads to a high proportion of retry, thus making performance worse</p>
<p>If not much contention, it tends to perform better than pessimistic</p>
<h3 id="pacelc-theorem">PACELC theorem</h3>
<p>If case of a network partition (P): we should choose between availability (A) or consistency (C)</p>
<p>Else, in the absence of partition (E): we should choose between latency (L) or consistency (C)</p>
<p>Most systems are either:
- AP/EL
- CP/EC</p>
<h3 id="partitioning-sharding">Partitioning (sharding)</h3>
<p>Split up a large dataset that is too big for a single machine into smaller parts and spread them across several machines</p>
<p>Define the partition type based on the primary access pattern</p>
<h3 id="partitioning-criteria">Partitioning criteria</h3>
<p>Range partitioning: keys are sorted and a partition owns all the keys from some minimum up to some maximum (example: MySQL RANGE COLUMNS partitioning)
- Pros: efficient range queries
- Cons: Risk of hot spots, requires repartitioning to potentially split a range into two subranges if a partition gets too big</p>
<p>Hash partitioning: hash function is applied to each key and a partition owns a range of hashes</p>
<h3 id="partitioning-methods">Partitioning methods</h3>
<p>Horizontal partitioning: partition by rows</p>
<p>Vertical partitioning: partition by columns (create tables with fewer columns)</p>
<p>Rationale: if the subtables have different access patterns (e.g., a column is a blob that we rarely consume, we can create a vertical partitioning to store this blob not on the primary disk)</p>
<p>Also called normalization</p>
<h3 id="quorum">Quorum</h3>
<p>Minimum number of nodes that need to vote on an operation before it can be considered successful</p>
<p>Usually: majority</p>
<h3 id="raft">Raft</h3>
<p>Leader election and replication algorithms</p>
<h4 id="leader-election_1">Leader election</h4>
<p>Using a state machine to elect a leader</p>
<p>Each process is in one of these three states: leader, candidate (part of the election process), follower</p>
<h4 id="replication">Replication</h4>
<p>The leader stores the sequence of operations altering the state into a local ordered log</p>
<p>Then, this log is replicated across followers
Each entry is considered as committed when it has been replicated on a majority of nodes</p>
<p>Replication enables consensus</p>
<h3 id="read-repair">Read repair</h3>
<p>Optimization to favor latency over consistency when writing to a DB (e.g., leaderless replication)</p>
<p>If a coordinator node receives conflicting values from the contacted replicas (which shouldn't happen in case of single-master replication for example), it resolves the conflict by:
- Resolving the conflict (e.g., LWW)
- Forwarding it to the stale replica
- Responding to the read request</p>
<h3 id="relation-between-replication-factor-write-consistency-and-read-consistency">Relation between replication factor, write consistency and read consistency</h3>
<p>Given:
- N: number of replicas
- W: number of nodes that have to ack a write for it to succeed
- R: number of nodes that have to respond to a read operation for it to succeed</p>
<p>If R+W &gt; N, the system can guarantee to return the most recent written value because there's always an overlap between read and write sets (consistency)</p>
<p>Notes:
- In case of read-heavy systems, we want to minimize R
- If W = 1 and R = N, durability isn't guaranteed in the presence of failure
- If W &lt; (N+1)/2, it may leads to write conflicts (e.g., W &lt; 2 if 3 nodes)
- If R+W &lt;= N, weak/eventual consistency</p>
<h3 id="replication-vs-partition-impacts">Replication vs. partition: impacts</h3>
<p>Replication:
- Read-heavy
- Availability &gt; consistency</p>
<p>Partition:
- Write-heavy (splitting up data across different shards)</p>
<h3 id="schema-on-read-vs-schema-on-write">Schema-on-read vs. schema-on-write</h3>
<p>Schema-on-read: implicit schema but not enforced by the DB (also called schemaless but misleading)</p>
<p>Schema-on-write: explicit schema, the DB ensures all writes are conforming to it (e.g., relational DB)</p>
<h3 id="serializability">Serializability</h3>
<p>I in ACID (strong isolation level)</p>
<p>Equivalent to serial execution (no interleaving due to concurrent transactions)</p>
<h3 id="serializable-snapshot-isolation-ssi">Serializable Snapshot Isolation (SSI)</h3>
<p>Snapshot Isolation (SI) allows write skew</p>
<p>SSI is a stricter isolation level than SI preventing write skew: check at runtime for conflicts between transactions</p>
<p>Downside: increase the number of aborted transactions</p>
<h3 id="single-leader-multi-leader-leaderless-replication">Single-leader, multi-leader, leaderless replication</h3>
<h4 id="single-leader">Single-leader</h4>
<p>All writes go through one leader</p>
<p>Pro: ensure consistency</p>
<p>Con: all writes go through a single node (bottleneck)</p>
<h4 id="multi-leader">Multi-leader</h4>
<p>Rarely makes sense within a single datacenter (benefits rarely outweigh the added complexity) but used in multi-datacenter contexts</p>
<p>DB must resolve the conflicts in a convergent way</p>
<p>Use cases:
- One leader per datacenter</p>
<p><a class="glightbox" href="../img/multi-leader.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/multi-leader.png" /></a></p>
<ul>
<li>Clients with offline operation</li>
<li>Collaborative editing</li>
</ul>
<p>Different topologies:</p>
<p><a class="glightbox" href="../img/topologies.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/topologies.png" /></a></p>
<p>Most used: all-to-all</p>
<p>Pro: not limited to the write throughput of a single node</p>
<p>Con: possible write conflicts</p>
<h4 id="leaderless-replication">Leaderless replication</h4>
<p>Client sends its writes to several replicas in parallel</p>
<p>Read requests are also sent in parallel to multiple replicas (this way, if a write hasn't been replicated yet to one replica, it won't lead to stale data)</p>
<p>Rely on read repair and anti-entropy mechanisms</p>
<p>Rely on quorum to know how long to wait for a request (not perfect: if a write fails because we didn't reach a quorum, what shall we do about the replicas where the write has already been committed)</p>
<p>Examples: Cassandra, DynamoDB, Riak</p>
<p>Pro: throughput</p>
<p>Con: quorums are not perfect, provide illusion of strong consistency when  in reality, it's often not true</p>
<h3 id="sloppy-quorum">Sloppy quorum</h3>
<p>In case of a quorum of w nodes to accept a write: if we can't reach w, the DB accepts the write replicate it to nodes that aren't among the ones on which the value usually lives</p>
<p>Relies on hinted handoff</p>
<h3 id="snapshot-isolation-si">Snapshot Isolation (SI)</h3>
<p>Guarantee that all reads made in a transaction will see a consistent snapshot of the database</p>
<p>In practice, it reads the last committed values that existed at the time it started</p>
<p>Allows write skew</p>
<h3 id="snapshot-isolation-common-implementation">Snapshot Isolation common implementation</h3>
<p>MVCC</p>
<h3 id="sstable">SSTable</h3>
<p>Sorted String Table, immutable components of a LSM tree</p>
<p>Sorted immutable data structure</p>
<p>It consists of 2 components: index files and data files</p>
<p>The index (based on a hashtable or a B-tree) holds the keys and the data entries (offsets in the data file where the actual records are located)</p>
<p>Data files hold records in key order</p>
<h3 id="state-based-crdts-definition-and-requirements">State-based CRDTs: definition and requirements</h3>
<p>Convergent replicated data types</p>
<p>Replication is made in propagating the full local state to replicas</p>
<p>States are merged with a function which must be:
- Commutative
- Idempotent
- Associative
  =&gt; Update monotonically increase the internal state according to some partial order rules defined (e.g., max of two values, union of two sets)</p>
<p>=&gt; Delivery layer doesn't have to guarantee causal ordering nor idempotency, only eventual delivery</p>
<h3 id="strong-eventual-consistency-definition-and-requirements">Strong eventual consistency: definition and requirements</h3>
<p>Stronger guarantee than eventual consistency</p>
<p>Based on the fact that we can define a deterministic outcome for any conflict</p>
<p>Requires:
- Eventual delivery: every update applied to a replica is eventually applied to all replicas
- Strong convergence: guarantees that replicas that have executed the same updates have the same state (with eventual consistency, the guarantee is that the replicas eventually reach the same state, once consensus is reached)</p>
<p>Strong convergence requires convergent replicated data types (part of CRDT family)</p>
<p>Main difference with eventual consistency:
- Leaderless replication
- No consensus needed, instead, it relies on a deterministic outcome for any conflict</p>
<p>A solution to the CAP theorem</p>
<h3 id="three-phase-commit-3pc">Three-phase commit (3PC)</h3>
<p>Failure-resilient refinement of 2PC</p>
<p>Unlike 2PC, satisfies liveness but not safety</p>
<h3 id="transaction">Transaction</h3>
<p>A unit of work performed in a database system, representing a change, which can be potentially composed of multiple operations</p>
<h3 id="two-main-approaches-to-partition-a-table-that-has-secondary-indexes">Two main approaches to partition a table that has secondary indexes</h3>
<p>Partitioning secondary indexes by document:
- Each partition maintains its own secondary index
- Write: one partition
- Query on the index: requires querying multiple partitions (scatter/gather)</p>
<p>Optimized from writes</p>
<p>Example: Elasticsearch, MongoDB, Cassandra, Riak, etc.</p>
<p>Partitioning secondary indexes by term:
- Global index covering all the partitions (to be replicated)
- Write: multiple partitions are updated (for resiliency)
- Query on the index: served from one partition containing the index</p>
<p>Optimized from reads</p>
<h3 id="two-types-of-crdts">Two types of CRDTs</h3>
<p>Operation-based and state-based</p>
<p>Operation-based require less bandwidth</p>
<p>State based require less assumptions about the delivery layer</p>
<h3 id="two-phase-commit-2pc">Two-phase commit (2PC)</h3>
<p>Protocol used to implement atomic transaction commits across multiple processes</p>
<p>Satisfies safety but not liveness</p>
<h3 id="wal">WAL</h3>
<p>Write-ahead log (or redo log)</p>
<p>Append-only file to which every modification must be written</p>
<p>Used for restoration in the event of a DB crash:
- Durability
- Atomicity (allows to identify the operations on progress and complete or undo them)</p>
<h3 id="when-relational-vs-when-document">When relational vs. when document</h3>
<p>Relational (schema-on-write):
- Better support for joins
- Many-to-one and many-to-many relationships
- ACID</p>
<p>Document (schema-on-read):
- Schema flexibility
- Better performance due to locality
- Closer to the data structures used by the application
- In general not ACID
- In general write-heavy</p>
<h3 id="when-to-use-a-column-oriented-store">When to use a column-oriented store</h3>
<p>Because columns are stored contiguously: analytical workloads (computing average values, finding trends, etc.)</p>
<p>Flexible schema</p>
<p>Limited space (storing same data type together offers a better compression ratio)</p>
<h3 id="why-db-schemaless-is-misleading">Why DB schemaless is misleading</h3>
<p>There is an implicit schema but not enforced by the DB</p>
<p>More accurate term: schema-on-read</p>
<p>Different from relational DB with shema-on-write where the schema is explicit and the DB ensures all written data conforms to it</p>
<p>Similar to dynamic vs. static type checking in a programming language</p>
<h3 id="why-is-in-memory-faster">Why is in-memory faster</h3>
<p>Not necessarily because they don't need to read from disk (even a disk-based storage engine may never need to read from disk if enough memory)</p>
<p>Can be faster because they avoid the overhead of encoding in a form that can be written to disk</p>
<h3 id="write-and-read-amplification">Write and read amplification</h3>
<p>Ratio of the amount of data written/read to the disk versus the amount of data intended to be written</p>
<h3 id="write-heavy-and-replication-type">Write heavy and replication type</h3>
<p>Do not rely on single-master replication as it heavily impacts the scaling of write-heavy systems</p>
<p>Instead, rely on leaderless replication</p>
<p>Trade off: consistency is harder to guarantee </p>
<h2 id="design">Design</h2>
<h3 id="auditing">Auditing</h3>
<p>Checking the integrity of data</p>
<h3 id="backward-vs-forward-compatibility">Backward vs. forward compatibility</h3>
<p><a class="glightbox" href="../img/backward-forward-compatibility.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/backward-forward-compatibility.png" /></a></p>
<h3 id="bloom-filter">Bloom filter</h3>
<p>Probabilistic, memory-efficient data structure for approximating the content of a set</p>
<p>Can tell if a key does not appear in the DB</p>
<h3 id="causality">Causality</h3>
<p>Causal dependency: one event causing another</p>
<p>Happened-before relationship</p>
<h3 id="concurrent-operations">Concurrent operations</h3>
<p>Not only operations that happen at the same time but also operations made without knowing about each other</p>
<p>Example:
- Concurrent to-do list operations with a current "Buy milk" item
- User 1 deletes it
- User 2 doesn't have an internet connection, modifies it into "Buy soy milk", and then is connected again =&gt; this modification may have been done one hour after user 1 deletion</p>
<h3 id="consistent-hashing">Consistent hashing</h3>
<p>Special kind of hashing such that when a resize occurs, only 1/n percent of the keys need to be rebalanced (n: number of nodes)</p>
<p>Solutions:
- Ring consistent hash with virtual nodes to improve the distribution
- Jump consistent hash: faster but nodes must be numbered sequentially (e.g., if we have 3 servers foo, bar, and baz =&gt; we can't decide to remove bar)</p>
<h3 id="design-impacts-of-sharing">Design impacts of sharing</h3>
<p>May decrease:
- Availability
- Performance
- Scalability</p>
<h3 id="design-read-heavy-vs-write-heavy-impacts">Design: read-heavy vs. write-heavy impacts</h3>
<p>Read heavy:
- Leverage replication
- Leverage denormalization</p>
<p>Write heavy:
- Leverage partition (usually)
- Leverage normalization</p>
<h3 id="different-types-of-message-failure">Different types of message failure</h3>
<ul>
<li>Delayed</li>
<li>Dropped</li>
<li>Duplicated</li>
<li>Out-of-order</li>
</ul>
<h3 id="event-log-vs-message-queue">Event log vs. message queue</h3>
<p>Event log:
- Consumers are free to select the point of the log they want to consume messages from, which is not necessarily the head
- Log is immutable, messages cannot be removed by consumers (removed by a GC running periodically)</p>
<h3 id="exactly-once-delivery">Exactly-once delivery</h3>
<p>Impossible to achieve</p>
<p>However, we can achieve exactly-once processing using a dedup or by requiring the consumers to be idempotent</p>
<h3 id="flp-impossibility">FLP impossibility</h3>
<p>In an asynchronous distributed system, there's no consensus algorithm that can satisfy:
- Agreement
- Validity
- Termination
- And fault tolerance</p>
<h3 id="geohashing">Geohashing</h3>
<p>Encode geographic coordinates into a short string called a cell with varying resolutions</p>
<p>The more letters in the string, the more precise the location</p>
<p><a class="glightbox" href="../img/geohashing.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/geohashing.png" /></a></p>
<p>Main use case:
- Proximity searches in O(1)</p>
<h3 id="hashing-definition-and-size-of-md5-and-sha256">Hashing definition and size of MD5 and SHA256</h3>
<p>Map data of arbitrary size to fixed-size values</p>
<p>Examples:
- MD5: 16 bytes
- SHA256: 32 bytes</p>
<h3 id="hdfs">HDFS</h3>
<p>Distributed filesystem:
- Fault tolerant
- Scalable
- Optimised for batch operations</p>
<p>Architecture:
- Single master (maintain filesystem metadata, inform clients about which server store a specific part of a file)
- Multiple data nodes</p>
<p>Leverage:
- Partitioning: each file is partitioned into multiple chunks =&gt; performance
- Replication =&gt; availability</p>
<p>Read: communicates with the master node to identify the servers containing the relevant chunks</p>
<p>Write: chain replication</p>
<h3 id="how-to-reduce-sharing">How to reduce sharing</h3>
<ul>
<li>Decompose stateful and stateless parts of a system =&gt; makes scaling easier</li>
<li>Partitioning =&gt; fault isolation</li>
</ul>
<h3 id="hyperloglog">HyperLogLog</h3>
<p>Used to approximate cardinality of a set</p>
<p>Optimization for space over perfect accuracy</p>
<h4 id="backing-idea">Backing idea</h4>
<p>Coin flip game: you flip a coin, if head, flip again, if tail stop</p>
<p>If a player reaches n flips, it means that on average, he tried 2n+1 times</p>
<h4 id="algo">Algo</h4>
<p>For an ID, we will count how many consecutive 0 (head) bits on the left</p>
<p>Example: 001110 =&gt; 2</p>
<p>Hence, on average we should have seen 22+1 visitors</p>
<p>Requirement: we need visitors ID to be uniform =&gt; either if the ID is randomly generated or by hashing them (if ID is auto incremented for example)</p>
<p>Required memory: log(log(m)) with m the number of  unique visitors</p>
<p>Problem with this algo: it depends on luck. For example, if user 00000001 connects every day =&gt; the system will always approximate 28 visitors</p>
<h4 id="bucketing">Bucketing</h4>
<p>Distribute to multiple counters and aggregate the results (possible because each counter is very small)</p>
<p>If we want 4 counters, we distribute the ID based on the first 2 bits</p>
<p>Result: 2(n1 + n2 + n3 + n4) / 4</p>
<p>Problem: mean is highly impacted with large outliers</p>
<p>Solution: use harmonic mean</p>
<h3 id="idempotent">Idempotent</h3>
<p>If executed more than once it has the same effect as if it was executed once</p>
<h3 id="latency-numbers-every-programmer-should-know">Latency numbers every programmer should know</h3>
<ul>
<li>Read 1MB sequentially from memory: 250 Âµs</li>
<li>Round trip within the same datacenter: 0.5 ms</li>
<li>Read 1MB sequentially from SSD: 1 ms</li>
<li>Disk seek: 10 ms</li>
<li>Read 1MB sequentially from disk: 20 ms</li>
<li>Send round trip packet over continents: ~100 ms</li>
</ul>
<h3 id="lease">Lease</h3>
<p>Lock with an expiry timeout after which the lock is automatically released</p>
<p>May lead to situations where two nodes believe they hold the lock (for example, when the expiry signal hasn't been caught yet by the first node because of a GC or CPU throttling)</p>
<p>Can be solved using a fencing token</p>
<h3 id="least-loaded-endpoint-load-balancing-strategy">Least loaded endpoint load balancing strategy</h3>
<p>Not efficient</p>
<p>A more efficient option is to randomly pick two servers and route the request to the least-loaded one of the two</p>
<h3 id="liveness-property">Liveness property</h3>
<p>Something good will eventually occur</p>
<p>Example: leader is elected, eventual consistency</p>
<h3 id="load-balancing">Load balancing</h3>
<p>Route requests across a pool of servers</p>
<h3 id="load-shedding">Load shedding</h3>
<p>Action to reduce the load on something</p>
<p>Example: when the CPU utilization reaches a threshold, the server can start returning errors</p>
<p>A more special form of load shedding is selective client throttling, where an application assigns different quotas to each of its clients</p>
<h3 id="locality">Locality</h3>
<p>Performance optimization to put several pieces of data in the same place</p>
<h3 id="log">Log</h3>
<p>Append-only, totally ordered sequence of messages</p>
<p>Each message is:
- Appended at the end of the log
- Is assigned a unique sequential index</p>
<p>Example: Kafka</p>
<h3 id="log-compaction">Log compaction</h3>
<p>Throw away duplicate keys in the log and keep only the most recent update for each key</p>
<h3 id="main-drawback-of-shared-nothing-architectures">Main drawback of shared-nothing architectures</h3>
<p>Reduce flexibility</p>
<p>If the application needs to access to new data access patterns in an efficient way, it might be hard to provide it given the system's data have been partitioned in a specific way</p>
<p>Example: attempting to query by a secondary attribute that is not the partitioning key might require to access all the nodes of the system</p>
<h3 id="mapreduce">MapReduce</h3>
<p>Programming model for processing large amounts of data in bulk across many machines:
- Map: processes a set of key/value pairs and produces as output another set of intermediate key/value pairs.
- Reduce: receives all the values for each key and returns a single value, essentially merging all the values according to some logic</p>
<h3 id="microservices-pros-and-cons">Microservices: pros and cons</h3>
<p>Pros:
- Organizational (each team dictates its own release schedule, etc.)
- Codebase is easier to digest
- Strong boundaries
- Independent scaling
- Independent data model</p>
<p>Cons:
- Eventual consistency
- Remote calls
- Harder to operate (more complex)</p>
<h3 id="number-of-values-to-generate-to-reach-50-chances-of-collision-32-bit-64-bit-and-128-bit-hash">Number of values to generate to reach 50% chances of collision: 32-bit, 64-bit, and 128-bit hash</h3>
<ul>
<li>32: 80 k</li>
<li>64: 5 billion</li>
<li>128: 3e+18 (1 billion hashes generated every second for 100 years)</li>
</ul>
<h3 id="orchestration-vs-choreography">Orchestration vs. choreography</h3>
<p>Orchestration: single central system responsible for coordinating the execution</p>
<p>Choreography: no need for a central coordinator, each system is aware of the previous and the next</p>
<h3 id="outbox-pattern">Outbox pattern</h3>
<p>Used to update a DB and publish an event in a transactional fashion</p>
<p>Within a transaction, persist in the DB (insert, update or delete) and insert at the same time a new row in an event table</p>
<p>Implements a worker that checks the event table, publishes an event and deletes the row (at least once guarantee)</p>
<h3 id="perfect-hashing">Perfect hashing</h3>
<p>No collision, only possible if we know the keys up front</p>
<p>Given k elements, the hashing function returns an int between 0 and k</p>
<h3 id="quadtree">Quadtree</h3>
<p>Tree data structure where each internal node has exactly four children: NE, NW, SE, SW</p>
<p>Main use case:
- Improve geospatial caching (e.g., 1km in an urban area isn't the same as 1km outside cities)</p>
<p>Source: https://engblog.yext.com/post/geolocation-caching</p>
<h3 id="rate-limiting-throttling-definition-and-algos">Rate-limiting (throttling): definition and algos</h3>
<p>Mechanism that rejects a request when a specific quota is exceeded</p>
<h4 id="token-bucket-algo">Token bucket algo</h4>
<p>Token of a pre-defined capacity, put back in the bucket periodically:</p>
<p><a class="glightbox" href="../img/token-bucket-algo.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/token-bucket-algo.png" /></a></p>
<h4 id="leaking-bucket-algo">Leaking bucket algo</h4>
<p>Uses a FIFO queue
When a request arrives, checks if the queue is full:
- If yes: request is dropped
- If not: added to the queue
  =&gt; Requests pulled from the queue at regular intervals</p>
<p><a class="glightbox" href="../img/leaking-bucket-algo.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/leaking-bucket-algo.png" /></a></p>
<h3 id="rebalancing">Rebalancing</h3>
<p>Move data or services from one node to another in order to spread the load fairly</p>
<h3 id="rest">REST</h3>
<p>Architectural style where the server exposes a set of resources</p>
<p>All communications must be stateless and cacheable</p>
<p>Relies mainly on HTTP but not mandatory</p>
<h3 id="rest-vs-grpc">REST vs. gRPC</h3>
<p>REST (architectural style):
- Universality
- Standardization (status code, ETag, If-Match, etc.)</p>
<p>gRPC (RPC framework):
- Contract
- Binary protocol (faster, less bandwidth) // We could use HTTP/2 without gRPC and leverage binary protocols but it would require more efforts
- Bidirectional</p>
<h3 id="safety-property">Safety property</h3>
<p>Something bad will never happen</p>
<p>Example: leader election eventually completes</p>
<h3 id="saga">Saga</h3>
<p>Distributed transaction composed of a set of local transactions</p>
<p>Each transactions has a corresponding compensation action to undo its changes</p>
<p>Usually, a Saga is implemented with an orchestrator that manages the execution of the transactions and handles the compensations if needed</p>
<h3 id="scalability">Scalability</h3>
<p>System's ability to cope with increased load</p>
<h3 id="scalability-ceiling">Scalability ceiling</h3>
<p>Hard limit (e.g., device maximum throughput)</p>
<h3 id="shared-nothing-architectures">Shared-nothing architectures</h3>
<p>Reduce coordination and contention so that every request can be processed independently by a single node or group of nodes</p>
<p><a class="glightbox" href="../img/shared-nothing-architecture.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/shared-nothing-architecture.png" /></a></p>
<p>Increase availability, performance, and scalability</p>
<h3 id="source-of-truth">Source of truth</h3>
<p>Holds the authoritative version of the data</p>
<h3 id="split-brain">Split-brain</h3>
<p>Network partition =&gt; nodes unable to communicate with each other =&gt; multiple nodes believing they are the leader</p>
<p>As a node is unaware that another node is still functioning, it can lead to data corruption or data loss</p>
<h3 id="throughput">Throughput</h3>
<p>The rate of work performed</p>
<h3 id="total-vs-partial-order">Total vs. partial order</h3>
<p>Total order: a binary relation that can be used to compare any 2 elements of a set with each other</p>
<p>Partial order: a binary relation that can be used to compare only some of the elements of a set with each other</p>
<p>Total ordering in distributed systems is rarely mandatory</p>
<h3 id="uuid">UUID</h3>
<p>128-bit number</p>
<p>Collision probability: after generating 1 billion UUID every second for ~100 years, the probability of creating a single duplicate reaches 50%</p>
<h3 id="validation-vs-verification">Validation vs. verification</h3>
<p>Validation: process of analyzing the parts of the system and building mental models that reflects the interaction of those parts</p>
<p>Example: validate the quality of water by inspecting all the pipes and infrastructure to capture, clean and deliver water</p>
<p>Verification: process of analyzing output at a system boundary</p>
<p>Example: validate the quality of water by testing the water (output) coming from a sink</p>
<h3 id="vector-clock">Vector clock</h3>
<p>Algorithm that generates partial ordering of events and detects causality violation</p>
<h3 id="why-asynchronous-communication">Why asynchronous communication</h3>
<p>Reduce temporal coupling (not connected at the same time) =&gt; processes execute at independent rates, without blocking the sender</p>
<p>If the interaction pattern isn't request/response with client blocking until it receives the response</p>
<h2 id="http">HTTP</h2>
<h3 id="301-vs-302">301 vs. 302</h3>
<p>301: redirect permanently</p>
<p>302: redirect temporarily</p>
<h3 id="403-or-404">403 or 404?</h3>
<p>Retuning 403 can leak existence of a resource</p>
<p>Example: Apple is secretly working on super cars and creates an internal GET <code>https://apple.com/supercar</code> endpoint</p>
<p>Returning 403 means the user doesn't have the rights to access the resource, but leaks the existence of <code>/supercar</code></p>
<h3 id="cookie">Cookie</h3>
<p>Small files stored on a user's computer to hold specific data (e.g., language preference)</p>
<p>Requests made by the browser will contain cookies data</p>
<p>Types of cookies:
- Session cookies: only lasts for the duration of a session
- Persistent cookies: outlast user session
- Third-party cookies: used for advertising</p>
<h3 id="four-main-http2-features">Four main HTTP/2 features</h3>
<ul>
<li>Request multiplexing: multiple requests over a single TCP connection
  =&gt; Prioritization can now be part of the request</li>
<li>Server push</li>
<li>Binary protocol (lower overhead in decoding data, smaller network footprint)</li>
<li>Header compression</li>
</ul>
<h3 id="hls">HLS</h3>
<p>HTTP live streaming: video streaming protocol</p>
<h3 id="http_1">HTTP</h3>
<p>Request/response protocol used to encode and transport information between a client and a server
Stateless (each request is executed independently)</p>
<p>The request and the response are 2 standard message types exchanged in a single HTTP transaction
- Request: method, URL, HTTP version, headers, body
- Response: HTTP version, status, reason, headers, body</p>
<p>Example of a POST request:</p>
<p>```http request
POST https://example.com HTTP/1.0
Host: example.com
User-Agent: Mozilla/4.0
Content-Length: 5</p>
<p>Hello
```</p>
<p>Application layer protocol (OSI level 7)</p>
<p>Relies on a transport protocol (OSI level 4, TCP most of the time but not mandatory) for error detection, flow control, reliability, etc.</p>
<h3 id="http-cache-control-header">HTTP cache-control header</h3>
<p>Allows setting how long to cache a response</p>
<p>Part of the response header (hence, cached by the browser) but can be part of the request header too (hence, cached on server side)</p>
<p>If request header marked as private, the results are intended for a single user (then won't be cached by a load balancer for example)</p>
<h3 id="http-etag">HTTP Etag</h3>
<p>Entity tag header that allows clients to make conditional requests</p>
<p>Server returns an ETag being the date and time of the last update of a resource</p>
<p>Client sends a <code>If-Match</code> header to update a resource only if clients have the most recent version</p>
<h3 id="http-keep-alive">HTTP keep-alive</h3>
<p>Maintain a persistent TCP connection (reduces the number of TCP and HTTPS handshakes)</p>
<h3 id="http-methods-safeness-and-idempotence">HTTP methods: safeness and idempotence</h3>
<ul>
<li>GET: safe, idempotent</li>
<li>PUT: not safe, idempotent</li>
<li>POST: not safe, not idempotent</li>
<li>DELETE: not safe, idempotent</li>
</ul>
<h3 id="http-safe-method">HTTP safe method</h3>
<p>Doesn't have any visible side effects and can be cached</p>
<h3 id="http-status-code-429">HTTP status code 429</h3>
<p>When clients are throttled, the most common way is to return a 429 (Too Many Requests)</p>
<p>The response can also include a Retry-After header indicating how long to wait before making a new request (in seconds)</p>
<h3 id="http-status-codes">HTTP status codes</h3>
<ul>
<li>2xx: success</li>
<li>3xx: redirection</li>
<li>4xx: client error</li>
<li>5xx: server error</li>
</ul>
<h3 id="what-happens-if-you-type-googlecom-in-your-browser">What happens if you type google.com in your browser</h3>
<ul>
<li>URL parsing</li>
<li>HSTS lookup (HTTP Strict Transport Security: list of websites that have requested to be contacted via HTTPS only)</li>
<li>DNS lookup:<ul>
<li>Is DNS record cached in browser?</li>
<li>If not present, check if the hostname can be resolved by reference in the local hosts file</li>
<li>If not present, DNS lookup (typically to the ISP DNS) // Uses ARP to get the MAC address of the DNS IP address</li>
</ul>
</li>
<li>Opens a TCP socket</li>
<li>TCP handshake</li>
<li>HTTPS handshake</li>
<li>HTTP request (GET, port 80)</li>
<li>Receive HTML, javascript (to be executed on client side), and images. Data can be cached by the browser using HTTP Etag.</li>
</ul>
<p>Source: https://github.com/alex/what-happens-when</p>
<h2 id="kafka">Kafka</h2>
<h3 id="consumer-types">Consumer types</h3>
<p>Without consumer group: each consumer will receive all the messages in a topic</p>
<p>With consumer group: each consumer will receive a subset of the messages</p>
<p>Each consumer is assigned to multiple partitions (zero to many)</p>
<p>A partition is always assigned to only one consumer</p>
<p>If there are more consumers than partitions, some consumers will not be assigned to any partition (scalability ceiling)</p>
<h3 id="durabilityavailability-and-latencythroughput-tradeoffs">Durability/availability and latency/throughput tradeoffs</h3>
<p><a class="glightbox" href="../img/kafka-optimization-theorem.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/kafka-optimization-theorem.png" /></a></p>
<p>Source: https://developers.redhat.com/articles/2022/05/03/fine-tune-kafka-performance-kafka-optimization-theorem#kafka_priorities_and_the_cap_theorem</p>
<h3 id="log-compaction_1">Log compaction</h3>
<p>Log compaction is a mechanism to give per-record retention to a topic</p>
<p>It ensures that Kafka will always retain at least the last message for each key of a given partition</p>
<p>A partition that is not yet compacted may have more than one message with the same key</p>
<p>Property:
- <code>retention.ms</code>: maximum time the topic will retain old log segments before deleting or compacting them (default: 7 days)</p>
<p>For low-throughput topic (topics with segments that should be rolled out because of <code>segment.ms</code> rather than <code>segment.bytes</code>), we should ensure that segment.ms is lower than <code>retention.ms</code></p>
<h3 id="offset">Offset</h3>
<p>A strictly increasing identifier per partition</p>
<h3 id="partition">Partition</h3>
<p>Topics are divided into partitions</p>
<p>A partition is an ordered, immutable log of messages</p>
<p>No guaranteed ordering per topic with multiple partitions</p>
<p>Yet, the ordering is guaranteed per partition</p>
<h3 id="partition-distribution">Partition distribution</h3>
<p>The client implements a partitioner based on the key (e.g., hash(key) % number of partitions)</p>
<p>This is not done on Kafka's side</p>
<ul>
<li>Default hash in Java: murmur2</li>
<li>Default hash in Go: FNV-1a</li>
</ul>
<p>If key is empty: round-robin</p>
<h3 id="rebalancing_1">Rebalancing</h3>
<p>Not possible to decrease the number of partitions: topic has to be recreated</p>
<p>Possible to increase the number of partitions</p>
<p>Possible issue: no more guaranteed ordering as one key may be assigned to a different partition</p>
<h3 id="segment">Segment</h3>
<p>Each partition is divided into segments</p>
<p>Instead of storing all the messages of a partition in a single file, Kafka splits them into chunks called segments
A log segment is a file identified by the first message offset it contains</p>
<p>Properties:
- <code>segment.bytes</code>: maximum segment file size before creating a new segment (default: 1GB)
- <code>segment.ms</code>: period after which a new segment is created, even if the segment is not full (default: 7 days)</p>
<h3 id="shared-subscription">Shared subscription</h3>
<p>Distribute messages</p>
<p>All the consumers from one consumer group receive a portion of the messages</p>
<p>One partition is assigned to one consumer, one consumer can listen to multiple partitions</p>
<h2 id="math">Math</h2>
<h3 id="associative-property">Associative property</h3>
<p>A binary operation is associative if rearranging the parentheses in an expression will not change the result</p>
<p>Example: <code>+</code> is associative; e.g., (2 + 3) + 4 = 2 + (3 + 4)</p>
<h3 id="commutative-property">Commutative property</h3>
<p>A binary operation is commutative if changing the order of the operands doesn't change the result</p>
<p>Example: <code>+</code> is commutative, <code>/</code> isn't commutative</p>
<h3 id="harmonic-mean">Harmonic mean</h3>
<p><a class="glightbox" href="../img/harmonic-mean.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/harmonic-mean.png" /></a></p>
<p>x1: probability of p1 (e.g. 0.5)</p>
<p>Less sensitive to large outliers</p>
<h2 id="network">Network</h2>
<h3 id="arp-protocol">ARP protocol</h3>
<p>Map an IP address to a MAC address</p>
<h3 id="average-connection-speed-in-usa">Average connection speed in USA</h3>
<p>42 Mbps</p>
<h3 id="backpressure">Backpressure</h3>
<p>A node limits its own rate of sending in order to avoid overloading. Queueing is done on the sender side.</p>
<p>Also known as flow control</p>
<p>Example: TCP flow control</p>
<h3 id="bandwidth">Bandwidth</h3>
<p>Maximum amount of data that can be transferred in a unit of time</p>
<h3 id="bgp">BGP</h3>
<p>Border Gateway Protocol: Routing system of the internet</p>
<p>When a client submits data via the Internet, BGP is responsible for looking at all of the available paths that data could travel and picking the best route</p>
<p>Note: The chosen route isn't necessarily the fastest one, it can be the cheapest one. See https://technology.riotgames.com/news/fixing-internet-real-time-applications-part-i.</p>
<h3 id="cors">CORS</h3>
<p>Cross-origin resource sharing</p>
<p>Mechanism to allow restricted resources on a page to be requested from another domain outside the domain from which the resource was served</p>
<p>It extends and adds flexibility to SOP (Same-Origin Policy, same domain)</p>
<p>Example: User visits A and the page attempts to fetch data from B:
1. Browser sends a GET request to B with Origin header A
2. Server may respond with:
- Access-Control-Allow-Origin (ACAO) header set to the domain A
- ACAO set to a wildcard (*) indicating that the requests from all domains are allowed
- An error if the server does not allow a cross-origin request</p>
<h3 id="difference-ping-heartbeat">Difference ping &amp; heartbeat</h3>
<p>Ping: sends messages to a process and expects a response within a specified time period (request-reply)</p>
<p>Heartbeat: a process is actively notifying its peers that it's still running by sending a message (notification)</p>
<h3 id="difference-tcp-udp">Difference TCP &amp; UDP</h3>
<ul>
<li>Connection-oriented / Connectionless</li>
<li>Reliable / Unreliable</li>
<li>Ordered / Unordered</li>
<li>Heavyweight / Leightweight</li>
</ul>
<h3 id="difference-view-materialized-view">Difference view &amp; materialized view</h3>
<p>A view is just an abstraction (SQL request is rewritten to match the actual schema)</p>
<p>A materialized view is a copy (written to disk)</p>
<h3 id="dns">DNS</h3>
<p>Domain Name System: automatic translation between a name and an IP address</p>
<p><a class="glightbox" href="../img/dns.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/dns.png" /></a></p>
<p>Notes:
- Usually the local DNS configuration is the ISP one (config initialized from the router or static config)
- The browser, the OS and the DNS resolver all use caches internally
- A TTL is used to inform the cache how long the entry is valid</p>
<h3 id="dns-lookup-push-or-pull">DNS lookup: push or pull</h3>
<p>DNS is based on the pull mode:
- If record is present: DNS will return it
- If record isn't present: DNS will pull the value, store it, and then return it</p>
<p>Notes:
- New DNS records are immediate
- DNS updates are slow because of TTL (there is no propagation, we wait for cached records to expire)</p>
<h3 id="health-checks-passive-vs-active">Health checks: passive vs. active</h3>
<p>Passive: performed by the load balancer as it routes incoming requests (e.g., 503)</p>
<p>Active: the load balancer actively checking the health of the servers via a query to their health endpoint</p>
<h3 id="internet-model">Internet model</h3>
<p>A network of networks</p>
<p><a class="glightbox" href="../img/internet-model.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/internet-model.png" /></a></p>
<h3 id="layer-4-vs-layer-7-load-balancer">Layer 4 vs. layer 7 load balancer</h3>
<p>Layer 4 is faster and requires less computing resources than layer 7 is but less flexible</p>
<p>Layer 4: look at the info at the transport layer to distribute the requests (source, destination, port)</p>
<p>Forward packet using NAT</p>
<p>Layer 7: look at the info at the application layer to distribute the requests (header, message, etc.)</p>
<p>Terminate the network traffic, read then open a connection to the target server</p>
<p>A layer 7 can de-multiplex individual HTTP requests where multiple concurrent streams are multiplexed on the same TCP connection</p>
<h3 id="mac-address">MAC address</h3>
<p>A unique identifier assigned to a network interface</p>
<h3 id="max-size-of-a-tcp-packet">Max size of a TCP packet</h3>
<p>64K</p>
<h3 id="mqtt-lwt">MQTT LWT</h3>
<p>Last Will and Testament</p>
<p>Whenever a client is marked as disconnected (proper disconnection or heartbeat failure), it triggers to send a message in a particular topic</p>
<h3 id="ntp">NTP</h3>
<p>Network Time Protocol: used to synchronize clocks</p>
<h3 id="osi-model">OSI model</h3>
<p>7 layers:
1. Physical: transmission of raw bits over a physical link (e.g., USB, Bluetooth)
2. Data link: responsible from moving a packet of data from one node to a neighbouring node
3. Network: provides a way of sending packets between nodes that are not directly linked and might belong to other networks (e.g., IP, iptables routing)
4. Transport: application to application communication, based on ports when multiple applications on the same node wants to communicate (e.g., TCP, UDP)
5. Session
6. Presentation
7. Application: protocol of exchanges between the two sides (e.g., DNS, HTTP)</p>
<h3 id="routers">Routers</h3>
<p>A way to connect networks that are connected with each other (used for the Internet)</p>
<p>Capable of routing packets properly across networks so that they reach their destination successfully</p>
<p>Based on the fact that an IP has a network prefix</p>
<h3 id="routers-buffering">Routers buffering</h3>
<p>Routers use queuing (buffering) to address network congestion</p>
<p>A buffer has a fixed size and a fixed number of packets</p>
<p>If no available buffer: packet is dropped</p>
<p>Note: not a way to increase the throughput</p>
<h3 id="routers-processing">Routers processing</h3>
<p>Per-packet processing, no buffering</p>
<p>Impacts:
- Itâ€™s faster to route 10 packets of 1000 bytes than 20 packets of 500 bytes
- Sending small packets more frequently can fill the router buffer more quickly</p>
<p>Source: https://technology.riotgames.com/news/fixing-internet-real-time-applications-part-i</p>
<h3 id="routing-table">Routing table</h3>
<ul>
<li>Network destination and mask (together form the network identifier)</li>
<li>Gateway: next node to which a packet has to be sent</li>
<li>Interface: corresponding interface through which the gateway can be reached</li>
</ul>
<p>Example:</p>
<table>
<thead>
<tr>
<th>Destination</th>
<th>Network mask</th>
<th>Gateway</th>
<th>Interface</th>
</tr>
</thead>
<tbody>
<tr>
<td>0.0.0.0</td>
<td>0.0.0.0</td>
<td>240.1.1.3</td>
<td>if1</td>
</tr>
<tr>
<td>240.1.1.0</td>
<td>255.255.255.0</td>
<td>0.0.0.0</td>
<td>if1</td>
</tr>
</tbody>
</table>
<h3 id="service-mesh">Service mesh</h3>
<p>All network traffic from a client goes through a process co-located on the same machine (sidecar)</p>
<p>Used to facilitate service-to-service communications</p>
<h3 id="switch">Switch</h3>
<p>Receive frame and forward to specific links they are addressed to. Used for local networks.</p>
<p>Example: Ethernet frame</p>
<p><a class="glightbox" href="../img/ethernet-frame.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/ethernet-frame.png" /></a></p>
<p>To do this, the switch maintains a switch table that maps MAC addresses to the corresponding interfaces that lead to them</p>
<p>At first, the switch table is empty. If the entry is empty, a frame is forwarded to all the interfaces (switches are self-learning)</p>
<h3 id="tcp-congestion-control">TCP congestion control</h3>
<p>Determine dynamically the throughput (the number of segments that can be sent without an ack):
- Increase exponentially for every segment ack
- Decrease with a missed ack</p>
<p>Upon a new connection, the size of the window is set to a system default</p>
<p>It's one of the reasons why reusing a TCP connection leads to a performance increase</p>
<h3 id="tcp-connection-backlog">TCP connection backlog</h3>
<p>SYN requests are queued before being accepted by a user-mode process</p>
<p>When there are too many requests for the process, the backlog reaches a limit and SYN packets are dropped (to be later retransmitted by the client)</p>
<h3 id="tcp-flow-control">TCP flow control</h3>
<p>A receiver communicates back to the sender the size of the buffer when acknowledging a segment</p>
<p>Backpressure mechanism</p>
<h3 id="tcp-handshake">TCP handshake</h3>
<p>3-way handshake
- syn (sender to receiver)
- syn-ack (receiver to sender) // ack the segment number received
- ack (sender to receiver) // ack the segment number received</p>
<h3 id="websocket">Websocket</h3>
<p>Communication protocol (layer 7) provides a full-duplex communication channel over a single TCP connection and bidirectional streaming capabilities</p>
<p>Different from HTTP but compatible with HTTP (starts as an HTTP connection and then is upgraded via a well-defined handshake to a TCP connection)</p>
<p>Obsolete with HTTP/2</p>
<h3 id="why-cant-we-rely-on-the-system-clock-in-distributed-systems">Why can't we rely on the system clock in distributed systems?</h3>
<ul>
<li>There's no guarantee that times are synchronized</li>
<li>In the case of an NTP synchronization, the system clock of one node can jump backward in time</li>
</ul>
<h2 id="reliability">Reliability</h2>
<h3 id="bulkhead-pattern">Bulkhead pattern</h3>
<p>Provides guaranteed fault isolation by design</p>
<p>Based on the idea of partitioning a shared resource to isolate failures</p>
<h3 id="cascading-failure">Cascading failure</h3>
<p>A process in a system of interconnected parts in which the failure of one or few parts can trigger the failure of other parts and so on</p>
<h3 id="causal-consistency-implementation">Causal consistency implementation</h3>
<p>When a replica receives a new write, it doesn't apply it locally immediately. First, it checks whether the write's dependencies have been committed locally. If not, it waits until the required version appears.</p>
<h3 id="circuit-breaker">Circuit breaker</h3>
<p>Used to prevent a network or service failure from cascading to other failures</p>
<p>Implemented on the client-side</p>
<p>Three states:
- Closed: accept requests
- Open: do not accept requests and fail immediately
- Half-open: give the service another chance (can also be implemented using a probe)</p>
<p>The circuit can be opened when the health endpoint of the service is down or when the number of consecutive errors reaches a threshold</p>
<h3 id="exponential-backoff">Exponential backoff</h3>
<p>Wait time increased exponentially after every retry attempt</p>
<h3 id="fault-tolerance">Fault tolerance</h3>
<p>Property of a system that can continue operating correctly in the presence of failure of its components</p>
<h3 id="jitter">Jitter</h3>
<p>Introduces a part of randomness to avoid synchronized retry spikes experienced during cascading failures</p>
<h3 id="knee-point">Knee point</h3>
<p>Moment when linear scalability is not possible anymore</p>
<h3 id="phi-accrual-failure-detector">Phi-accrual failure detector</h3>
<p>Instead of treating failure node failure as a binary problem (up or down), a phi-accrual failure detector has a continuous scale, capturing the probability of the monitored process's crash</p>
<p>Works by maintaining a sliding window, collecting arrival times of the most recent heartbeats</p>
<p>Used to approximate the arrival time of the next heartbeat and compute a suspicion level (how certain the failure detector is about a failure)</p>
<h3 id="retry-amplification">Retry amplification</h3>
<p>Having retries at multiple levels of the dependency chain can amplify the number of retry</p>
<p>The deeper a service in the chain, the higher the load it will be exposed to due to amplification:</p>
<p><a class="glightbox" href="../img/retry-amplification.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/retry-amplification.png" /></a></p>
<p>In case of a long dependency chain, perhaps we should only retry at a single level of the chain</p>
<h2 id="security">Security</h2>
<h3 id="authentication">Authentication</h3>
<p>Process of determining whether someone or something is who or what it declares itself to be</p>
<h3 id="certificate-authorities">Certificate authorities</h3>
<p>Organizations issuing certificates by signing them</p>
<h3 id="cipher">Cipher</h3>
<p>Encryption algorithm</p>
<h3 id="confidentiality">Confidentiality</h3>
<p>Process of protecting information from being accessed by unauthorized parties</p>
<p>Mainly achieved via encryption</p>
<h3 id="integrity">Integrity</h3>
<p>The process of preserving the accuracy and completeness of data over its entire lifecycle, so that they cannot be modified in an unauthorized or undetected manner</p>
<h3 id="mutual-tls">Mutual TLS</h3>
<p>Add client authentication using a certificate</p>
<h3 id="oauth-2">OAuth 2</h3>
<p>Standard for access delegation</p>
<p>Process
- Client gets a token from an authorization server
- Makes a request to a server using the token
- Server validates the token to the authorization server</p>
<p>Notes: some token types like JWT are self-contained, meaning the validation can be done by the server without a call to the authorization server</p>
<h3 id="public-key-infrastructure-pki">Public key infrastructure (PKI)</h3>
<p>System for managing, storing, and distributing certificates</p>
<p>Relies on certificate revocation lists (CRLs)</p>
<h3 id="tls-handshake">TLS handshake</h3>
<p>With mutual TLS:</p>
<ol>
<li>Client hello: protocol, cipher, etc.</li>
<li>Server hello: supported cipher, etc.</li>
<li>Server sends its certificate</li>
<li>Client checks the server certificate (e.g., make sure the CA are trusted in its truststore, etc.)</li>
<li>Client sends its certificate</li>
<li>Server checks the client certificate</li>
<li>The client generates a session key encrypted with the public key of the client certificate (asymmetric encryption) and sends it to the server</li>
<li>Client sends data and encrypts each packet using the session key (symmetric encryption)</li>
</ol>
<p>One way: the session key is generated by the client</p>
<h3 id="two-main-uses-of-encryption">Two main uses of encryption</h3>
<p>Encryption in transit</p>
<p>Encryption at rest</p>
<h3 id="two-types-of-encryption">Two types of encryption</h3>
<p>Symmetric: key is shared between a client and a server (faster)</p>
<p>Asymmetric: two keys are used, a private and a public one
- Client encrypts a message with the public key
- Server decrypts the message with its private key</p>
<h3 id="what-does-digital-signature-provide">What does digital signature provide</h3>
<p>Integrity and authentication</p>
<h3 id="what-does-tls-provide">What does TLS provide?</h3>
<ul>
<li>Confidentiality</li>
<li>Authentication</li>
<li>Integrity</li>
</ul>







  
  



  


  



                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - 2024 Teiva Harsanyi
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "search.highlight", "search.share", "search.suggest", "content.code.copy", "navigation.expand", "navigation.sections", "announce.dismiss", "toc.follow", "content.code.annotate", "content.tooltips"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>